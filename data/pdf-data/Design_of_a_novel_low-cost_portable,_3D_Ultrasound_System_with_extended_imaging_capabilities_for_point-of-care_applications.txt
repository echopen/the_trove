DESIGN OF A NOVEL LOW – COST, PORTABLE, 3D ULTRASOUND SYSTEM
WITH EXTENDED IMAGING CAPABILITIES
FOR POINT-OF-CARE APPLICATIONS
A dissertation submitted in partial fulfillment of the
requirements for the degree of
Doctor of Philosophy
By
MICHAIL TSAKALAKIS
B.S., National Technical University of Athens, 2011
_______________________________________________________
2015
Wright State University
WRIGHT STATE UNIVERSITY
GRADUATE SCHOOL
August 21st
, 2015
I HEREBY RECOMMEND THAT THE DISSERTATION PREPARED UNDER MY
SUPERVISION BY Michail E. Tsakalakis, ENTITLED Design of a Novel Low–Cost,
Portable, 3D Ultrasound System with Extended Imaging Capabilities for Point-Of-Care
Applications BE ACCEPTED IN PARTIAL FULFILLMENT OF THE
REQUIREMENTS FOR THE DEGREE OF Doctor of Philosophy.
_____________________________
Nikolaos Bourbakis, Ph.D.
Dissertation Director
_____________________________
Michael Raymer, Ph.D. Director,
Computer Science & Engineering
Ph.D. Program
_____________________________
Robert E. W. Fyffe, Ph.D. Vice
President for Research and Dean of
the Graduate School
Committee on
Final Examination
_____________________________
Nikolaos G. Bourbakis, Ph.D.
_____________________________
Soon M. Chung, Ph.D.
_____________________________
Yong Pei, Ph.D.
_____________________________
Konstantina Nikita, Ph.D.
_____________________________
Catherine Marco, Ph.D.
i
I dedicate this dissertation to my beloved wife, Christina Nikolopoulou,
who has been a constant source of support and encouragement during the challenges of
graduate school and life. I am truly thankful for having you in my life.
ii
ACKNOWLEDGMENTS
I would like to thank all the individuals who helped me complete this enriching and
exciting doctoral journey. Professor Nikolaos Bourbakis provided constant support and
invaluable guidance through the past several years. I appreciate all his contributions of
ideas, time, and funding to make my Ph.D. experience productive and successful.
I also wish to thank the Ph.D. committee members, Soon M. Chung, Yong Pei,
Konstantina Nikita and Catherine Marco, for their contributions. They all had major
positive influence on this Ph.D. work and it was a real pleasure working with them.
Moreover, I would like to acknowledge all my colleagues support during the past 3 years,
and especially Konstantinos Michalopoulos, Ph.D., for not only being a real friend but also
a mentor during this journey.
Last but not least, I would like to express my gratitude to my friends and family, who
have always been there for me, bringing out the best in me. Without them, this dissertation
would have been an even tougher venture.
iii
ABSTRACT
Tsakalakis Michail. PhD., Department of Computer Science and Engineering, Wright State
University, 2015. Design of a novel low-cost portable, 3D Ultrasound System with
extended imaging capabilities for point-of-care applications.
Ultrasound Imaging (USI) or Medical Sonography (MS), as it is formally called, has
been widely used in biomedical applications over the last decades. USI can provide
clinicians with a thorough view of the internal parts of the human body, making use of
sound waves of higher frequencies than humans can perceive. USI systems are considered
highly portable and of low–cost, compared to other imaging modalities. However, despite
those advantages, Ultrasound Systems (US) and especially 3D ones, have not been yet
extensively utilized for Point-of-Care (POC) applications, due to numerous restrictions and
artifacts that they currently present.
Hardware complexity and real-time requirements are considered to be the major
restrictions for portable, 3D (volumetric) USI. Volumetric transducers consist of thousands
of piezoelectric elements that make the signaling and the networking of the system
extremely complex. Additionally, regions of the internal body require significantly long
time to be scanned in the three dimensions. Consequently, real-time applications are
considered prohibited. Last, but yet equivalently important, most of the low-cost, portable
systems manifest artifacts that degrade the quality of ultrasound image. It is obvious that
iv
researchers’ concern and major challenge is to successfully address those problems and
manage offset the strong trade-offs that exist.
Given the aforementioned challenge, the current research work presents a novel low–
cost, portable 3D Ultrasound system design, composed of four volumetric transducers. The
system has been designed for POC applications in a way to manifest extended imaging
capabilities. The use of multiple (four), simple 2D phased array transducers is adopted in
order for the system to provide enhanced field of view, as well as automatic scanning of
the Region of Interest (ROI) (radiologist intervention-free). In order to deal with the high
complexity of the system, the transducers were designed with limited number of elements
(256 each) and were integrated to a single FPGA board. To compensate for the image
degradation caused by transducers of fewer elements, a new image enhancement
methodology was proposed. The methodology targets to image de–speckling and image
resolution improvement, given the redundant information provided by the multiple
transducers. It uses a combination of spatial and frequency compounding techniques along
with a Super-Resolution (SR) algorithm. In order to vindicate the selection of the
techniques that were used for the proposed methodology, a parametric study regarding the
performance of numerous de-noising and SR techniques was conducted. The performance
of the methodology was firstly tested using typical 1D phased array transducers and the
results in the 2D images offered promising insights its advantages.
Having verified the effectiveness of the proposed methodology for the case of 2D
ultrasound images, the methodology was extended to volumetric images. The final de-
noised B-mode images manifested increased Contrast Noise Ratio (CNR) and Signal to
v
Noise Ratio (SNR) compared to various other ultrasound image de-speckling techniques,
while at the same time image resolution improvement was observed.
The novel low–cost, portable 3D Ultrasound system design that is proposed, combined
with the new image enhancement technique implemented, successfully addresses the
existing challenges, in regards to the trade-off between system complexity and image
quality. In fact, it not only develops a system of significantly lower complexity but the
same time tackles the disadvantages that such a system could have, by integrating in the
design the component of image enhancement.
vi
TABLE OF CONTENTS
ABSTRACT.......................................................................................................................iii
TABLE OF CONTENTS................................................................................................... vi
LIST OF TABLES...........................................................................................................xiii
LIST OF FIGURES .......................................................................................................... xv
1 INTRODUCTION ...................................................................................................... 1
1.1 Background and Motivation................................................................................. 1
1.2 Problem Definition............................................................................................... 2
1.3 Research Objectives ............................................................................................. 3
1.4 Methodology ........................................................................................................ 4
1.5 Research Contributions ........................................................................................ 6
1.6 Dissertation Organization..................................................................................... 7
2 LITERATURE REVIEW ........................................................................................... 9
2.1 Introduction.......................................................................................................... 9
vii
2.2 Survey on Health Care Sensor–Based Systems for Point-of-Care Monitoring and
Diagnostic Applications........................................................................................ 122.2.1
Point-of-Care (POC) Healthcare Monitoring Systems....................................... 12
2.2.1.1 Wearable/Portable (W/P) Sensor – Based Monitoring Systems ......... 13
2.2.1.2 Implantable Sensor – Based Monitoring Systems............................... 14
2.2.1.3 Wearable/Portable (W/P) and Implantable Biosensor – Based Systems
15
2.2.2 Maturity Evaluation of Sensor – Based Monitoring Systems..................... 15
2.2.2.1 Description of the Maturity Evaluation Procedure.............................. 17
2.2.2.2 Wearable/Portable Sensor – Based Systems ....................................... 21
2.2.2.3 Implantable Sensor–Based Systems .................................................... 22
2.2.2.4 Maturity Evaluation Results................................................................ 24
2.2.3 Discussion on the Survey............................................................................ 25
2.3 Conclusions........................................................................................................ 25
3 BACKGROUND OF ULTRASOUND IMAGING SYSTEMS .............................. 28
3.1 Introduction........................................................................................................ 28
3.2 Applications of Ultrasounds............................................................................... 29
3.3 Typical Ultrasound System................................................................................ 30
3.3.1 Ultrasound Transducers .............................................................................. 31
viii
3.3.1.1 Important Characteristics..................................................................... 33
3.3.1.2 Types of Ultrasonic Transducers......................................................... 39
3.3.2 Acquisition Circuit...................................................................................... 50
3.3.2.1 Region Scanning and Beamforming Schemes: Front – End ............... 51
3.3.2.2 Signal Processing: Mid – End ............................................................. 58
3.3.2.3 Image Processing: Back – End............................................................ 59
3.3.3 Monitors...................................................................................................... 61
3.4 Limitations of Ultrasound Systems.................................................................... 62
3.4.1 General Restrictions.................................................................................... 62
3.4.1.1 Dependency on Sonographer’s skills .................................................. 62
3.4.1.2 Real – Time 3D Ultrasound Imaging .................................................. 63
3.4.2 Image Quality Artifacts............................................................................... 64
3.4.2.1 Speckle Noise ...................................................................................... 65
3.4.2.2 High and Low Attenuation Artifact..................................................... 65
3.4.2.3 Side Lobe Artifact ............................................................................... 66
3.5 Challenges and Ongoing Research on Portable/Wearable POC Ultrasound
Systems ......................................................................................................................... 66
3.6 Conclusions........................................................................................................ 73
ix
4 PROPOSED PORTABLE 3D ULTRASOUND SYSTEM..................................... 74
4.1 Introduction........................................................................................................ 74
4.2 System Architecture ........................................................................................... 75
4.2.1 Motivation and Description ........................................................................ 75
4.2.2 System operation......................................................................................... 77
4.2.3 Transducer’s Design ................................................................................... 78
4.2.4 Main Board Deconstruction........................................................................ 84
4.2.4.1 Pulse Generation and Beamforming.................................................... 86
4.2.4.2 Synchronization and System Interfaces............................................... 86
4.2.5 PC: Back-end Processes.............................................................................. 87
4.3 Conclusions........................................................................................................ 88
5 PROPOSED IMAGE ENHANCEMNET METHODOLOGY ................................ 90
5.1 Introduction........................................................................................................ 90
5.2 Background in Ultrasound Image Processing .................................................... 91
5.2.1. Speckle Noise Reduction ............................................................................ 91
5.2.2. Fidelity Criteria........................................................................................... 94
5.3 Super-Resolution (SR) Imaging in Ultrasound .................................................. 96
5.4 New Ultrasound Image Enhancement Methodology ......................................... 99
x
5.5 Conclusions...................................................................................................... 103
6 PROPOSED METHODOLOGY FOR 2D ULTRASOUND IMAGES................. 104
6.1 Introduction...................................................................................................... 104
6.2 Experimental Set Up ........................................................................................ 105
6.2.1 Transducers Configuration........................................................................ 106
6.2.2 Cyst Phantom............................................................................................ 107
6.2.3 Procedure .................................................................................................. 109
6.2.4 Results....................................................................................................... 111
6.2.4.1 Results of De-speckled Image........................................................... 111
6.2.4.2 Results of High-Resolution De-speckled Image ............................... 118
6.3 Supplementary Material ................................................................................... 122
6.3.1 Split Spectrum Processing (SSP).............................................................. 123
6.3.2 Super-resolution Schemes......................................................................... 124
6.4 Conclusions...................................................................................................... 126
7 PROPOSED METHODOLOGY FOR 3D ULTRASOUND IMAGES................. 129
7.1 Introduction...................................................................................................... 129
7.2 Experimental Set Up ........................................................................................ 130
7.2.1 Transducers Configuration........................................................................ 130
xi
7.2.2 Cyst Phantom............................................................................................ 131
7.3 New 3D Image Enhancement Methodology.................................................... 133
7.3.1 Raw Data Generation (Raw A-lines, RF signal)....................................... 134
7.3.2 Volumetric Image Generation – Developed 3D scan conversion............. 134
7.3.3 Frequency compounding........................................................................... 137
7.3.4 New 3D Super Resolution Algorithm....................................................... 138
7.3.5 3D Image Enhancement............................................................................ 140
7.4 Results.............................................................................................................. 141
7.4.1 Original Images......................................................................................... 142
7.4.2 Compounded HR Image CHR
I ................................................................... 148
7.4.3 Enhanced Super Resolution (IEHR)............................................................ 151
7.4.4 Image Segmentation.................................................................................. 154
7.5 Conclusions...................................................................................................... 157
8 CONCLUSIONS..................................................................................................... 158
8.1 Recapitulation................................................................................................... 158
8.2 Conclusions...................................................................................................... 159
8.3 Future Work ..................................................................................................... 161
REFERENCES ............................................................................................................... 163
xii
APPENDIX A................................................................................................................. 180
A.1 Mathematical Equations: Circular Phased Array Transducers ............................ 180
A.2 Mathematical Equations: 2D Phased Array Transducers .................................... 187
xiii
LIST OF TABLES
Table 2-1: Selected Features for W/P Systems (Step1).................................................... 18
Table 2-2: Selected Features for Implantable Systems (Step 1)....................................... 19
Table 4-1: Geometrical and functional parameters of the proposed transducer ............... 81
Table 4-2: Performance characteristics of the proposed transducer ................................. 82
Table 6-1: Characteristics of the utilized transducers..................................................... 107
Table 6-2: Performance measures for different image de-noising methodologies......... 115
Table 6-3: CNR and SNR for the utilized SR schemes .................................................. 121
Table 6-4: Split Spectrum Processing............................................................................. 123
Table 7-1: Geometrical characteristics of all transducers, in the case of 3D image
enhancement methodology ............................................................................................. 130
Table 7-2: Cysts dimensions and their coordinates, in the case of the phantom used for the
3D image enhancement methodology............................................................................. 132
Table 7-3: Calculation of CNR and SNR of the interpolated volumetric images .......... 145
Table 7-4: Calculation of CNR and SNR of the compounded HR volumetric image.... 150
Table 7-5: Calculation of CNR and SNR of the enhanced HR volumetric image ......... 152
xiv
Table 7-6: Comparative table with CNR and SNR for all abovementioned imaging
techniques ....................................................................................................................... 153
Table 7-7: Percentage improvement in CNR and SNR between Compounded SR and
interpolated images ......................................................................................................... 153
Table 7-8: Percentage improvement in CNR and SNR between Enhanced SR and
interpolated images ......................................................................................................... 154
Table 7-9: Image 1: Percentage of correctly identified voxels for three cysts ............... 156
Table 7-10 Enhanced HR Image: Percentage of correctly identified voxels for the three cys
......................................................................................................................................... 156
xv
LIST OF FIGURES
Figure 2-1: High level categorization of POC healthcare systems................................... 12
Figure 2-2: High level categorization of POC monitoring systems.................................. 13
Figure 2-3: Focus area of the maturity evaluation procedure........................................... 16
Figure 2-4: Maturity level for w/p systems (using eq. 2-1 and 2-2),................................ 21
Figure 2-5: Average score per feature for w/p systems (using eq. 2-3)............................ 22
Figure 2-6: Maturity level for implantable systems (using eq. 2-1 and 2-2).................... 23
Figure 2-7: Average score per feature for implantable systems (using eq. 2-3)............... 23
Figure 3-1: Basic Components of an Ultrasound Machine............................................... 31
Figure 3-2: Piezoelectric Effect ........................................................................................ 32
Figure 3-3: Transducer response around excitation frequency......................................... 34
Figure 3-4: Generated sound wave when pulse echo excitation is applied ...................... 35
Figure 3-5: Beam profile of simple (upper) and a focused (lower) piston ultrasound
transducer.......................................................................................................................... 37
Figure 3-6: Circular piston transducer and its corresponding field of view ..................... 40
xvi
Figure 3-7: 1D linear array transducer and its corresponding field of view41Figure 3-8:
1D phased array transducer and its corresponding field of view...................................... 43
Figure 3-9: 2D phased array transducer and its corresponding field of view................... 47
Figure 3-10: 2D circular phased array transducer and its corresponding field of view.... 47
Figure 3-11: Different types of transducers and the region that can monitor: a) linear arrays,
b) 1D phased arrays, c) curved arrays d) 2D phased arrays (square) and e) 2D phased
circular arrays.................................................................................................................... 49
Figure 3-12: High level representation of the processes performed in the acquisition circuit
........................................................................................................................................... 50
Figure 3-13: Typical sector scanning using 1D phased array transducer ......................... 52
Figure 3-14: Electronic beam focusing during transmission using 1D phased array
transducer.......................................................................................................................... 54
Figure 3-15: Electronic beam steering during transmission using 1D phased array
transducer.......................................................................................................................... 55
Figure 3-16: Delays assignment during reception. ........................................................... 56
Figure 3-17: Front – end unit of the main board of a typical ultrasound system.............. 58
Figure 3-18: Mid – End unit of a typical Ultrasound system ........................................... 59
Figure 3-19: Back-end unit of a typical Ultrasound system ............................................. 59
xvii
Figure 3-20: 2D scan conversion, mapping the scan lines into a rectangular grid (2D image)
........................................................................................................................................... 60
Figure 3-21: Notation of bilinear interpolation approximation, in the case of 2D scan
conversion......................................................................................................................... 61
Figure 3-22: a) Typical image processing chain for ultrasound systems; b) Hardware
components that might be present in an ultrasound system and which process is dedicated
to which component.......................................................................................................... 72
Figure 4-1: High level description of proposed ultrasound system ................................. 76
Figure 4-2: General configuration of the transducers (left)- overlapped region between 2
consecutive transducers (right) ......................................................................................... 79
Figure 4-3: Transducers configuration for the proposed system ...................................... 80
Figure 4-4: Obtained frequency behavior of excitation signal ......................................... 82
Figure 4-5: a) Beam pattern; b) Point spread function in depth starting from 15mm to 95mm
with step 10mm................................................................................................................. 83
Figure 4-6: Description of proposed ultrasound system................................................... 85
Figure 4-7: Interfaces for the Proposed System............................................................... 87
Figure 5-1: Overlapping region of two adjacent transducers............................................ 98
Figure 5-2: Proposed methodology for high quality high resolution ultrasound images 101
Figure 6-1: 1D phased array transducer’s configuration for the experimental set up .... 107
xviii
Figure 6-2: Artificial phantom utilized........................................................................... 109
Figure 6-3: Version 1a) Image de-noising using frequency and spatial compounding .. 112
Figure 6-4: Version 1b) Image de-noising using spatial and frequency compounding.. 114
Figure 6-5: Comparison of images produced, given the described phantom, after
implementation of different de-noising schemes............................................................ 116
Figure 6-6: Obtained results using a stand-alone transducer VS the proposed methodologies
FrComp/SpComp & SpComp/FrComp........................................................................... 117
Figure 6-7: Graphical representation of obtained results using a stand-alone transducer VS
the proposed methodologies FrComp/SpComp & SpComp/FrComp ............................ 118
Figure 6-8: Super resolution image HR de-noising scheme ........................................... 120
Figure 6-9: Obtained results using a stand-alone transducer VS the proposed methodologies
SR2 & SR3...................................................................................................................... 121
Figure 6-10: De-speckling VS SR methodologies results .............................................. 122
Figure 6-11: Obtained results for compounded images, left (w =0.5, s =0.4), middle (w
=0.75, s= 0.5) and right (w =1, s=0.75) .......................................................................... 124
Figure 6-12: Obtained results from different super-resolution schemes ........................ 125
Figure 7-1: Selected phantom in the case of the 3D image enhancement methodology 131
Figure 7-2: Trilinear interpolation of missing voxels..................................................... 135
xix
Figure 7-3: Notation of the trilinear interpolation approximation, in the case of 3D scan
conversion....................................................................................................................... 136
Figure 7-4: One slice of the volumetric input images produced by stand-alone transducers
with operating frequency 3MHz ..................................................................................... 143
Figure 7-5: One slice of the volumetric input images produced by stand-alone transducers
with operating frequency 3.5MHz .................................................................................. 144
Figure 7-6: One slice of the volumetric interpolated input images produced by stand-alone
transducers with operating frequency 3MHz.................................................................. 146
Figure 7-7: One slice of the volumetric interpolated input images produced by stand-alone
transducers with operating frequency 3.5MHz............................................................... 147
Figure 7-8: Orthogonal slices of the interpolated volumetric image, produced by transducer
1, with operating frequency 3MHz ................................................................................. 148
Figure 7-9: Orthogonal slices of the compounded HR volumetric image...................... 149
Figure 7-10: Comparison between the interpolated volumetric image and the compounded
HR image ........................................................................................................................ 150
Figure 7-11: Orthogonal slices of the enhanced HR volumetric image.......................... 151
Figure 7-12: Comparison between the interpolated volumetric image and the enhanced HR
image............................................................................................................................... 152
Figure 7-13: Obtained results after applying segmentation on cyst 1 left) Interpolated image
1 and right) Enhanced HR image.................................................................................... 155
xx
Figure 7-14: Obtained results after applying segmentation on cyst 2 left) Interpolated image
1 and right) Enhanced HR image.................................................................................... 155
Figure 7-15: Obtained results after applying segmentation on cyst 3 left) Interpolated image
1 and right) Enhanced HR image.................................................................................... 156
1
1
INTRODUCTION
1.1 Background and Motivation
During the last few decades, there has been an increasing interest of the scientific
community towards continuous, real-time, remote monitoring through medical Point–of–
Care (POC) and Personal Health Management (PHM) systems, for healthcare monitoring
and diagnostic applications. POC and PHM are acronyms that are used to describe almost
the same kind of systems1
, i.e., low-cost, highly portable apparatus that are used for Point–
of–Care Testing (POCT). The term POCT refers to medical examination that is performed
near to the patient’s location [1] and is quite often called bedside testing. POC systems may
have the form of portable, wearable and implantable apparatus and contribute to the
betterment of today’s healthcare system which suffers from fundamental hindrances
(highly expensive, slow and inefficient). The main purpose of such systems is to support
the vision of citizen-centered healthcare [2] which hopes to the transformation
1
In the current dissertation, only the term POC will be used from now on.
2
of current healthcare system and its extension, beyond the dedicated sites such as hospitals.
Additionally, citizen-centered vision targets to increase awareness and involvement of
citizens-patients in all stages of care.
Technological advancements in the fields of digital electronics, communications, and
information technology, to name but few, have made this vision, reality. These
advancements, along with the emerging and continuous evolving POC applications have
intrigued a big portion of the scientific community. The number and heterogeneity of such
devices and systems regarding both software and hardware components, i.e. sensors,
antennas, acquisition circuits, as well as the medical applications that are designed for, is
impressive.
1.2 Problem Definition
Despite the plethora of POC systems, currently there are only few able to provide
clinicians with the internal view of human organs. It is a matter of fact that the most
promising apparatus for portable imaging is considered to be the ultrasound devices.
Certain advantages of Ultrasound (US) systems, compared to other imaging modalities
such as Magnetic Resonance Imaging (MRI) and Computed Tomography (CT), have
rendered them to the first candidate for bedside testing, since they can play a significant
role towards low-cost, continuous, remote monitoring.
Although US machines are considered of low-cost and highly portable, there are certain
limitations and restrictions that need to be studied and get addressed in order for them to
be fully utilized for POCT. Among the most prominent restrictions is a) the system’s high
complexity, especially for 3D systems, b) the low quality of the generated image, especially
3
in the case of low-cost, highly portable 3D machines, c) the difficulty to produce real-time
3D images (4D Ultrasound Imaging) as well as that d) the outcome highly depends on the
radiologist’s skills. As a result, it is currently necessary that these weaknesses get addressed
in order for the modern healthcare systems to get advantage of the great potential that USI
has, in the diagnosis and treatment of serious diseases.
1.3 Research Objectives
The existing flaws that US systems currently present, have highly driven the reasoning
of this dissertation. In particular, the research objectives of the current dissertation can be
summarized as follows:
 Highlight, study and examine the aforementioned restrictions and limitations
that current POC US systems manifest.
 Propose an alternative way of ultrasound examination, independent of the
radiologist’s skills. That is, a system to be capable of automatic scanning of the
volume of interest (VOI) without the guidance of the radiologist. It is worth
highlighting that this way of examination is only possible for ultrasound
applications where only structural information is required and not functional.
 Propose (define hardware and software components) a novel low-cost, portable
3D ultrasound device for POC applications, capable to provide 3D
representation of the internal of the human body without the need of the
physical presence of an experienced radiologist on site. This consists of the
following lower-level objectives:
4
 Design 2D phased array transducers, with limited number of active
elements, to reduce system’s complexity.
 Develop and introduce a new 3D image processing and analysis
methodology that can be applied for the image acquisition process, in
order to achieve the best possible image enhancement, given the
proposed architecture.
1.4 Methodology
Herein, the proposed approach to tackle the challenges and provide viable solutions to
numerous restrictions posed during the design of portable ultrasound systems is described.
Firstly, in order to force the system become capable of automatic region scanning and
the final outcome independent of radiologist skills, the use of multiple volumetric
transducers is adopted. In particular, four 2D phased array transducers were used in a 2x2
array configuration. In that way, whole VOIs can be automatically monitored without the
need of region scanning by an experienced radiologist. The actual design of the system was
performed in three distinct parts; a) design of the transducers, b) design of hardware
components of the system and c) development of new 3D image reconstruction and a new
3D image enhancement methodology.
Moreover, in order to address the burden of increased complexity that is observed in
the case of 2D phased array transducers, the proposed ones were designed to consist of the
smallest possible number of active elements. This number, was determined by the
capability of the transducers to provide an image of a moderate quality. Transducers that
5
use in total 16x16 = 256 number of elements were used and their performance was then
evaluated.
As far as the hardware component is concerned, its design was driven by the need of
the system to fulfill certain requirements. Those were the following; portability-
miniaturization, cost-effectiveness, low complexity, low power consumption,
configurability and scalability. For all the above requirements, the use of a single chip
capable to host the analog part (analog front-end) and one FPGA was adopted. The analog
part was designed to host 16 independent channels and be responsible of the front-end
processes while the mid-end processes were dedicated to the FPGA. Regarding the back-
end processes, they were implemented to a regular Personal Computer (PC) and performed
off-line.
The selections made in the previous steps have a major drawback. Most of them
degrade the quality of the final image produced. Therefore, in order to compensate for the
loss of image quality due to these hardware restrictions, two new software-based
methodologies were proposed. The first one, is a new 3D image reconstruction method,
based on the information provided by multiple transducers. The second one targets at the
enhancement of image quality, trying to overcome known artifacts and limitations that
exist, such as speckle, low resolution image. A combination of known de–speckling
techniques, such as spatial and frequency compounding, with the use of Super-resolution
(SR) technique entail the basis of the second methodology.
The use of a simulation tool for ultrasound transducers was critical for the current study,
for both the design phase of the system as well as the generation of the simulated ultrasound
6
data, in order to test the validity and effectiveness of the proposed methodologies. In order
for the needs of the current study to be addressed, Field II was used, a program for
simulating ultrasound transducer fields and ultrasound imaging, using linear acoustics
under the environment of MATLAB. The selection of Field II as the primary tool, was
based on two critical factors; a) it is publicly available and b) it is widely used. Field II was
used to generate the required data (2D and 3D ultrasound images) in order to apply the
proposed methodologies. Initially, 2D images were used, in order for the applicability and
the effectiveness of the proposed image processing methodology to be tested. In particular,
this stage significantly guided the latter development of the final 3D image enhancement
technique. The acquired results after applying the proposed methodology were compared
to existing techniques and revealed that such a device can deliver clinicians ultrasound
images of higher quality, compared to hand-held systems that use stand-alone transducers
of the same type.
1.5 Research Contributions
The research contributions of the current dissertation can be summarized as follows:
 Presentation and classification of sensor and biosensor-based systems for POC
monitoring applications and proposal of a maturity metric for system’s
performance evaluation.
 Design of a novel low-cost portable 3D ultrasound system, consist of multiple
2D phased array transducers.
7
 Design of 2D phased array transducer with reduced number of elements for cost
and complexity reduction.
 Development of a new 3D image reconstruction methodology based on the
information provided by multiple transducers.
 Development of a new 3D image processing methodology for ultrasound image
enhancement.
 Development of a new 3D Super Resolution algorithm
1.6 Dissertation Organization
Chapter 1 acted as an introduction, providing the background and motivation for this
study, as well as an overview of the research methodology covering several distinct phases.
The rest of the dissertation is organized as follows. In Chapter 2, a brief survey in the field
of POC sensor–based wearable and implantable systems is presented, mainly for
monitoring applications. In Chapter 3, the technical background of ultrasound imaging
systems is discussed along with limitations, artifacts and numerous challenges that
currently exist and have attracted the interest of the scientific community. Given the
existing limitations of current technologies, Chapter 4 presents a novel low-cost portable
3D ultrasound device with extended capabilities. Chapter 5 identifies all image related
artifacts of ultrasound images, and discusses existing techniques for image enhancement.
Finally, it proposes a new methodology based on the architecture described in Chapter 4,
for ultrasound image enhancement. The aforementioned methodology is implemented in
Chapter 6 in the case of 2D images, in order for the previously proposed image
8
enhancement methodology to be tested. Then in Chapter 7, the methodology is
implemented for 3D images and are presented and discussed. Finally, Chapter 8 presents
the conclusions, contributions and limitations of this research, as well as a discussion on
the future challenges.
9
2
LITERATURE REVIEW
2.1 Introduction
It is generally acknowledged that today’s healthcare system suffers from fundamental
hindrances, whereas the same time it is considered to be highly expensive, slow,
bureaucratic and inefficient. From the other side, the costs in all stages of care monitoring,
management, treatment and follow-up of various diseases using current approaches, are
continuously rising [3]. Additionally, the major problem of population ageing [4] along
with all its consequences, is one of the main factors that has contributed to the inadequacy
of the today’s healthcare system to address growing needs. Finally, the current methods
utilized for management and supervision of chronically ill people are considered outdated.
Thus, there is an obvious and urgent need for novel, low-cost, practical and feasible
solutions to be found, in order for the current system to be transformed to a faster, efficient,
effective and less expensive one.
10
From the other side, recently a new concept that promotes the customization of
healthcare upon the individual’s needs has attracted significant attention. Personalized
medicine is considered as one of the most emerging approaches for effective treatment and
management [5], being driven by the notion that clinicians can deliver more effective and
targeted treatment to their patients by monitoring each individual and keeping track of their
clinically readable habits. Significant innovations towards individualized medicine are
driven by advances in biocompatible materials [6], biomarkers [7] and biosensors [8].
Additionally, the need for remote monitoring is apparent since it can be beneficial not
only to the patient but also constitute a great relief to the already bloated healthcare system,
as a whole. Remote monitoring includes but is not limited to monitoring of the following
groups; a) a frail group of people in their physical setting, in their bedside, b) people in the
emergency room or ambulance [9] c) athletes or a group of people who cannot afford or do
not have access to hospitals and finally d) people in hostile environments, such as
battlefields, and places that have suffered natural disasters [10].
Finally, it is known that different preventive medicine strategies can significantly
reduce the overall cost spent in healthcare, depending on the level of prevention. In fact,
preventive strategies and methods can considerably contribute to early diagnosis and
treatment, or even to disease preclusion.
All the previously discussed issues and notions, i.e., a) shortcomings of healthcare
system, b) personalized medicine c) need for remote monitoring and d) preventive
medicine, can be supported and enhanced with the use of low-cost, sophisticated POC
medical monitors of various physiological and biochemical signals. So far, advancements
11
in certain key technologies have contributed to the burst development of those systems.
Evolution in microelectronics and digital electronics have led to the development of low-
cost, low-power consumption circuits such as microprocessors, Application Specific
Integrated circuits (ASICs) and Field Programmable Gate Arrays (FPFAs) that can provide
portable real-time, continuous monitoring solutions for signals acquisition and analysis.
Innovations in integrated sensors and Micro-Electro-Mechanical Systems (MEMS) create
new challenges that future sensory systems have to address [11]. New wireless
communication schemes, such as the Medical Implant Communication Services (MICS)
band or Industrial and Scientific Medical (ISM) radio bands, have been reserved for a
variety of industrial, scientific and medical applications. Finally, as stated in [12], the
illusion of infinite computing resources that cloud computing can offer, can be extremely
beneficial for the computational demanding medical applications where huge amount of
data need to be stored for further off-line processing.
Given the analysis above and the continuously evolving POC applications, it is currently
very important to thoroughly review the state-of-the-art medical devices, as well as assess
them in regards to their suitability to be effectively incorporated in the modern healthcare
system. Thus, in the following section, a review on presently popular POC systems is
presented, whereas details of a maturity evaluation procedure that was conducted for
sensor–based systems is further discussed.
12
2.2 Survey on Health Care Sensor–Based Systems for
Point-of-Care Monitoring and Diagnostic Applications
2.2.1 Point-of-Care (POC) Healthcare Monitoring Systems
A high level categorization of POC medical systems is illustrated in Figure 2-1.
Although, in the present survey we review only devices that are dedicated to physiological
monitoring purposes, it is important to briefly mention others, dedicated to medical
intervention.
Figure 2-1: High level categorization of POC healthcare systems
Thus, as far as the treatment is concerned, several systems exist. Retinal [13] and
cochlear [14] implants rise the expectations of visually and hearing impaired patients.
Spinal cord stimulators (SCS) [15], deep brain stimulators (DBS) [16], intravesical
stimulators and gastric electrical stimulators are few of the systems extensively used for
POC HealthCare
Systems
Monitoring
Systems
Treatment Systems
Pacemakers (ICD)
Cochlear & retinal
Implants
Neuro-Stimulators
Drug Release
Reservoirs
13
the management of neurological disorders. Last but not least, drug release reservoirs [17]
can deliver very effective and targeted treatment to groups of people suffering from chronic
diseases, cancer and cardiovascular disease (CVD) related disorders.
In the following section, emphasis is given in our area of interest which is the POC
monitoring systems, as also shown in Figure 2-2 below.
Figure 2-2: High level categorization of POC monitoring systems
2.2.1.1 Wearable/Portable (W/P) Sensor – Based Monitoring Systems
The major categories of such systems are the following: a) electrocardiogram (ECG)
sensors/platforms for monitoring of cardiac activity and CVD pathologies[18], [19], b)
electroencephalogram (EEG) sensors/platforms [20] for brain activity screening and brain
disorders identification, c) electromyogram (EMG) sensors for measuring the electrical
activity of muscles for muscular dystrophy, inflammation of muscles, pinched nerves,
Monitoring Systems
Wearable/Portable
Systems
Sensor - Based
Systems
Biosensor - based
Systems
Implantable
Systems
Sensor-Based
Systems
Biosensor - Based
Systems
14
peripheral nerve damage, d) blood pressure sensors for heart related diseases, e) motion
sensors, such as accelerometers for fall detection and Parkinson related problems [21] and
f) others, such as for oxygen saturation, temperature and heart rate sensing, that can provide
clinicians with valuable complementary information regarding the general health state of
the subject. Other systems utilize sensors to capture the electrodermal activity [22] which
is highly related to the sympathetic nervous system activity, pulse detection sensor for
detecting loss of radial pulse in order to prevent Sudden Cardiac Death (SCD) [23] and g)
ultrasound sensory systems [24] for internal organs imaging.
2.2.1.2 Implantable Sensor – Based Monitoring Systems
In this category, the Implantable Medical Devices (IMDs) designed for screening and
diagnostic applications are examined. The major categories can be divided in: a) blood flow
sensors [25] usually integrated with vascular prosthetic grafts for early detection of graft
degradation or failure, b) blood pressure sensors [26][27][28] for heart failure and CVD
detection, c) intraocular pressure sensors [29] for managing visual related disorders, d)
intracranial pressure [30][31] sensors for diagnosis or management of neurological
disorders such as hydrocephalus and Traumatic Brain Injury (TBI), e) bladder pressure
[32] sensors for monitoring of the intravesical pressure, that can be informative about
kidney’s state or detect the manifestation of urinary tract infections, f) wireless endoscopy
pills [33] that transmit images of gastrointestinal tract (GI tract) and g) others, that can
measure temperature and oxygen saturation for complementary information.
15
2.2.1.3 Wearable/Portable (W/P) and Implantable Biosensor – Based Systems
Biosensor-based systems are more sophisticated and complex systems, capable of
measuring certain biomarkers. Biomarkers are certain substances in human organism such
as biomolecules, analytes or biochemical reactions that can be objectively measured and
act as indicators of normal or abnormal health state. The main difference between a sensor
and a biosensor is that in the latter, there is a bio-recognition element responsible for
immobilizing the correct substance to be measured. Measurement of biomarkers is
performed in highly equipped laboratories from trained personnel. With the advent of
MEMS and the progress observed in biomaterials and tissue engineering, new technologies
such as Lab–on–a–Chip (LoC) [34] or System–on–a–Chip (SoC) can enable POC
biosensors for monitoring and treatment of outpatients. For instance, glucose meters [35]
for managing diabetes and lactate biosensors for CVD management are the two most
widely used systems today.
2.2.2 Maturity Evaluation of Sensor – Based Monitoring Systems
In this section a comparative study is presented among selected devices that have been
proposed in literature. As mentioned above, the focus of this procedure is the sensor-based
monitoring systems, both wearable/portable and implantable ones, as shown in Figure 2-3.
16
Figure 2-3: Focus area of the maturity evaluation procedure
Each device is evaluated, based on their “maturity” to be part of the medical market.
All technologies were selected to fulfill certain criteria; a) compose a complete well-
described system for a particular application, b) have an impact on the scientific
community (most frequently cited papers) and c) provide adequate information, in regards
to their performance. At this point, it is worth highlighting that the purpose of the maturity
metric is not to criticize or compare each system’s performance, but on the contrary, to
reveal shortcomings and deficiencies that could be the driving force for further
improvements.
A similar methodology to the one presented in [36] was adopted and applied in the two
main categories, i.e. wearable/portable and implantable sensor – based devices, for
monitoring applications with appropriate modifications.
Monitoring Systems
Wearable/Portable
Systems
Sensor - Based
Systems
Biosensor - based
Systems
Implantable
Systems
Sensor-Based
Systems
Biosensor - Based
Systems
17
2.2.2.1 Description of the Maturity Evaluation Procedure
This process can be divided into three basic steps: a) feature selection, b) feature
weighting and finally c) score assignment and maturity evaluation.
 Step 1: Feature Selection
The first and most important step for the evaluation of “maturity” was the selection
of appropriate features that can fully characterize the performance of a particular
device. Wearable/portable devices possess different restrictions compared to
implantable devices, thus different features must be selected in each category.
 Step 2: Feature Weighting
Due to the fact that several parties are involved in the chain, from the early stages
of product design, up to the introduction of the product to the market of POC
medical systems, it is necessary that their opinion is taken into account, regarding
the significance of each feature. Three different groups were taken into
consideration, i.e., patients, physicians and manufactures. Values from 1 to 5 (1 =
indifferent, 5 = highly interested) were assigned to each feature, given the feedback
from each one of the aforementioned groups, in regards to their interest. Then, for
each feature i, the average of these values was calculated and used as a weight, i.e.,
Impact Factor (IF), as shown in (Formula 2-1) below.
3
/
)
( i
i
i
i MP
CP
PP
IF 

 (2-1)
In the Formula above, i represents the ith
feature, as presented in Table 2-1 and
18
Table 2-2. For instance, i=3 represents the feature “Ease of Use for Wearable and
Biocompatibility for Implantable Devices”. Last but not least, PPi, CPi and MPi
represent the opinion of each one of the groups considered, i.e., patients, physicians
and manufactures, regarding the importance of feature i.
Table 2-1: Selected Features for W/P Systems (Step1)
Feature Name
Feature
Description
Description
F1 Accuracy
The ability of the sensor to measure the actual
value
F2 Application's Impact
The importance or the impact of the proposed
application in the medical field
F3 Ease of Use
Patients should feel no discomfort for the whole
period they carry the device
F4 Operational lifetime
Various applications require long term
monitoring
F5 Clinical Evaluation
Performance evaluation to verify system's
functionality in real cases
F6 Reliability
The ability of the device to perform its function
not only under normal conditions but also in
hostile environments
F7 Power consumption
The energy that the device is about to consume
in order to perform its task
F8
Portability/
Wearability
System must have low weight and size and be
appropriately placed on the body
F9 Real time Application
The capability of the device to provide real time
results
F10
Continuous
monitoring
The capability of the device for continuous
monitoring
F11 Resolution The smallest change that sensor can distinguish
F12 Security
Data towards and from the device should be
securely transferred
F13 Decision Support
The capability of the device to support
diagnosis/decision mechanisms
19
Feature Name
Feature
Description
Description
F14 Cost
The overall amount required to produce the
system
F15 Size The overall dimensions of the device
Table 2-2: Selected Features for Implantable Systems (Step 1)
Feature Name
Feature
Description
Description
F1 Accuracy
The ability of the sensor to measure the actual
value
F2 Application's Impact
The importance or the impact of the proposed
application in the medical field
F3 Biocompatibility
The ability of the implant to perform its
supposed task without causing damage to the
host
F4 Discomfort
Patients should feel no pain or discomfort for
the whole period they carry the device
F5 Implant's lifetime
The time period from the placement of the
device until there is no more functional
F6 Efficiency
The extent to which time, effort or cost is well
used for the intended task or purpose
F7 Reliability
The ability of the device to perform its function
not only under normal conditions but also in
hostile environments
F8 Power consumption
The energy that the device is about to consume
in order to perform its task
F9 Method of Placement
The surgical operation needed for the implant to
be placed in the right position
F10 Real time
The capability of the device to provide real time
results
F11
Continuous
monitoring
The capability of the device for continuous
monitoring
F12 Clinical Validation
Tests for the evaluation of the device
performance
20
Feature Name
Feature
Description
Description
F13 Resolution
The smallest change that the sensor can
distinguish
F14 Security
Data towards and from the implant to the
external device should be securely transferred
F15 Decision Support
The capability of the device to make certain
decisions or interventions
F16 Cost
The overall cost of the device itself and the
surgical operation needed for the displacement
F17 Size The overall dimensions of the implant
 Step 3: Score Assignment and Maturity Evaluation
The final step is to assign to each device involved in the review process, a certain
score (Fji) for each feature. For each one of the devices, this score was assessed
based on the statements and results provided in the respective literature. The
Formula that was used for the final total score calculation, is called maturity and is
given in Equation 2-2. This is actually the Normalized Total Score (NTS) for every
device evaluated.

 



n
i i
n
i i
j
i
j
j IF
F
IF
NTS
Maturity 1
1 , /
)
*
( (2-2)
In the above, j is the jth
system under consideration and can take values from 1 to
k, where k is the total number of systems selected. Moreover, i is the ith
feature
under consideration and can take values from 1 to n, where n is the total number of
features. Finally, Fji is the score assigned to device j, with respect to feature i.
21
The average score per feature (FSi) divided by 2 was calculated (using Equation 2-
3) as an intention to capture and localize technological shortcomings.
k
F
FS
k
j i
j
i *
2
/
)
( 1 ,
 
 (2-3)
For wearable/portable systems n = 6 and k = 15, while for implantable ones n=6
and k=17.
2.2.2.2 Wearable/Portable Sensor – Based Systems
The features that selected in this category to be assessed, are presented in Table 2-1.
Moreover, the final maturity score for the considered devices (A[24], B[18], C[19], D[21],
E[23], F[22]), As well as the average score of each feature are shown in Figure 2-4 and
Figure 2-5.
Figure 2-4: Maturity level for w/p systems (using eq. 2-1 and 2-2),
0
1
2
3
4
5
6
7
8
9
10
A B C D E F
Selected Devices
Maturity Level--
(Normalized Total Score, NTS)
22
Figure 2-5: Average score per feature for w/p systems (using eq. 2-3)
2.2.2.3 Implantable Sensor–Based Systems
The features that were selected in this category to be assessed, are presented in
Table 2-2. As far as the final maturity score and the average score of each feature for
each one of the devices considered (A[25], B[28], C[32], D[29], E[26], F[31]), are shown
in Figure 2-6 and Figure 2-7, respectively.
0 1 2 3 4 5
F1
F2
F3
F4
F5
F6
F7
F8
F9
F10
F11
F12
F13
F14
F15
Average Feature Score
23
Figure 2-6: Maturity level for implantable systems (using eq. 2-1 and 2-2)
Figure 2-7: Average score per feature for implantable systems (using eq. 2-3)
0
1
2
3
4
5
6
7
8
9
10
A B C D E F
Devices Selected
Maturity Level Chart
(Normalized Total Score, NTS)
0 0.5 1 1.5 2 2.5 3 3.5 4 4.5 5
F1
F3
F5
F7
F9
F11
F13
F15
F17
Average Feature Score
24
2.2.2.4 Maturity Evaluation Results
As clearly shown in Figure 2-4 and Figure 2-6, none of the reviewed systems achieved
the highest possible maturity score. Undoubtedly, despite their evolution during the last
decades, there is still room for improvement and respective challenges need to be addressed
for prolonged, real-time and ambulatory monitoring in both categories. Moreover, from
Figure 2-5 and Figure 2-7, technical characteristics of such systems that require further
attention, can be specified and localized. In fact, careful examination of all figures can
reveal existing trade-offs and compromises among different technical features.
For w/p systems in particular, the triplet power consumption, operational lifetime and
continuous recording is very critical for the designers. The required performance of one of
the above directly affects the performance of the other two. For instance, setting a stricter
power consumption requirement may result in reducing the operational lifetime of the
device, or the continuous monitoring may be impossible. In addition, very few systems
support decision making algorithms. Ongoing research is focused on the development of
completely autonomous systems with diagnostic capabilities.
From the other side, developing implantable systems is a completely different problem
and sets more restrictions and challenges to researchers. Size, power consumption,
continuous monitoring and implants’ lifetime, are technical features closely related.
Ongoing research is focused on reducing the size of implant through different methods of
power supply. Energy harvesting and remote transmission of power through inductive link
are the main fields of interest. Finally, new biocompatible materials are required not only
to ensure the safety of the patient but also for reliable and robust monitoring to be possible.
25
2.2.3 Discussion on the Survey
In this section, the state-of-the-art POC systems used in medical applications were
discussed and a brief review of sensor-based systems was presented[37]. Concluding, it is
important to highlight two important issues; a) the high heterogeneity of systems targeting
at the management and monitoring of various diseases as well as b) the number of new
features that can be attached to the current healthcare system. Development of POC
systems, either simple or more sophisticated can deliver faster and more effective
management for a wide range of pathologies. In addition, combination of biosensor-based
systems with drug delivery reservoirs can potentially become a very powerful diagnostic
and interventional tool. Besides this, the overall expenditures for healthcare and the total
cost spent from patients, for medical care can be significantly reduced. In order for these
devices to be smoothly embodied in the current system, it is highly recommended that
researchers focus their efforts on addressing the issues discussed in the previous section
while at the same time, the Food and Drug Administration (FDA) should exhaustively
analyze feedback coming from current bearers and revise current regulations and standards
accordingly, when necessary.
2.3 Conclusions
As elucidated above, during the last century an inclination towards personalized health
care and POC monitoring has been observed. In the previous section a brief survey on
wearable and implantable POC systems for monitoring of physiological signals was
performed, and the new trends towards a more sophisticated and effective healthcare
26
system were discussed. Moreover, restrictions, limitations and trade–offs that researchers
should try to handle during the designing of such systems were highlighted.
The performed survey presented in the previous section, clearly indicates and reveals a
lack of reliable, low–cost, POC imaging systems. Although the monitoring of physiological
signals, such as ECG, EMG etc., have their own merit in prognosis or prevention of
unwanted complications especially for critically ill subjects, there are cases where the
numerous complications or failure of internal organs cannot be identified. Moreover, there
is a need for low-cost imaging systems in nursing homes (either for elderly people or for
people with disabilities), ambulances and emergency rooms, even besides patients’ bed.
Lastly, it is a matter of fact that the vast majority of earth’s population does not have access
or cannot afford the high priced imaging modalities, such as MRI, CT or even the high-end
US machines located in big hospital centers.
USI systems, as mentioned in the introduction, are considered to be the most promising
imaging modality for low cost remote monitoring. The reasons why ultrasonography has
attracted the interest of numerous researchers and clinicians and in particular for POC
applications, during the last decades are apparent. Ultrasonography is a minimally or a non-
invasive technique. In other words, is considered safer than other modalities that make use
of ionizing radiation, such as electromagnetic waves, gamma and X-rays which their
effects, when interacting with the biological tissues, are still under exhaustive examination.
Additionally, the cost of US systems is relative low compared to the previous mentioned
modalities. Finally US systems are highly portable devices and as a consequence more
easily accessible for the general public.
27
In the following chapter, the principles and fundamentals of medical ultrasound
machines are described. Moreover, the state-of-the-art ultrasound systems and in particular
for POC applications are presented. Finally, their restrictions and limitations are identified
and discussed as to propose a better alternative to the current proposed solutions.
28
3
BACKGROUND OF ULTRASOUND
IMAGING SYSTEMS
3.1 Introduction
This chapter consists of four sections which provide the fundamentals of medical
ultrasound and some of the major challenges that researchers need to deal with. In the first
section, various applications that make use of ultrasound technology are discussed, with an
emphasis given to medical ultrasonic applications. In the second one, the typical ultrasound
imaging system and its components are presented, as well as the principles of ultrasonic
wave generation and their interaction and transmission with and through the biological
tissue (the actual medium). Types of various ultrasonic transducers are described in this
section, along with the classical beamforming scheme and the image formation procedure
for the case of B-Mode 2D ultrasound images. In the third section, certain peculiarities,
challenges and limitations of current solutions are presented, with an emphasis on low-
cost, portable machines for ambulatory monitoring. Finally, in the last section, a survey on
29
POC ultrasound systems is conducted as to reveal the ongoing research in the field and
the different approaches adopted by the researchers.
3.2 Applications of Ultrasounds
In physics, ultrasounds are defined as acoustic waves that oscillate with frequencies
higher than the ones that humans can hear (20 Hz – 20 kHz). A wide use of ultrasounds
has been observed in various fields, for a wide variety of applications. To name but few,
extensive use of ultrasonic waves is observed for non-destructive testing (NDT) or non-
destructive evaluation (NDE) [38], [39], for Sounds Navigation and Raging (SONAR)
systems, in robotics for object/obstacle detection and measuring distances [40], [41] as
well as in numerous medical diagnostic or interventional applications [42], [43]. In
medicine, ultrasound is used as diagnostic imaging technique, usually called Ultrasound
Imaging (USI) or Medical Sonography (MS) or Ultrasonography that uses acoustic waves,
operating in the frequency range of 2 - 20 MHz, for visualization of body structures and
various internal organs. US imaging is one of the most widely used methods in medical
imaging, along with the Computational Tomography (CT), Magnetic Resonance Imaging
(MRI) and X-rays, for prognostic, diagnostic and therapeutic purposes, depending on the
oscillating frequency of acoustic waves.
The reasons why ultrasonography has attracted the interest of numerous researchers
and clinicians during the last decades, are apparent. Ultrasonography is a minimally and
non-invasive technique whereas the acoustic waves that it produces make no use of
ionizing radiation. The overall cost is considered to be relatively low, compared to
previously mentioned modalities, such as MRI and CT and it is more easily accessible to
30
the general public. Almost every hospital, nowadays, is equipped with machines capable
of providing 3D, even 4D (Real-Time 3D) tissue visualization of relatively good quality.
Such images can provide physicians with vital information about normal or abnormal
functionality of a wide variety of internal organs like lung, pancreas, liver to name but few.
In the first decades from the time that ultrasound was proposed, most of the medical
applications were limited to gynecology and obstetrics [42], [44]. Nowadays ultrasound
technology is used to identify and monitor a wide variety of pathologies and abnormalities
as well as for therapeutic purposes. In therapeutics, efforts have been made to adopt
ultrasound for bone-healing [45], thrombolysis (sono-thrombolysis) [46] and in general, to
promote gene therapy to specific tissues [47]. Use in dentistry has been also reported [48].
Nevertheless, ultrasound technology is primarily used for diagnosis and monitoring
purposes of the internal of the human body. Minimally invasive Intravascular Ultrasound
(IVUS) is among the best techniques used so far in artery reconstruction and in the
evaluation of atherosclerosis [49]. A wide number of diseases and pathologies associated
with many abdominal organs such as lung [50], pancreas [51], liver [43] can be monitored
and managed using ultrasound imaging techniques. Abdominal monitoring can be
conducted either in hospitals with bulky and expensive machines, providing enhanced
quality or with cheaper portable apparatus for POC testing. The present work focuses on
the latter systems.
3.3 Typical Ultrasound System
Although there is a heterogeneity in ultrasound systems and methods, as it is also
discussed later in this chapter, most of them are composed of three fundamental
31
components, as shown in Figure 3-1. These are the a) ultrasonic transducer(s), b) main
board, which is responsible for the acquisition and the processing of the signal and finally,
and finally c) the display monitor.
Transducer Main Board Display Monitor
Figure 3-1: Basic Components of an Ultrasound Machine
The main board can be further divided into three parts; the a) front-end, b) mid-end and
the c) back-end unit. The front-end unit is responsible for the integration of the transducer
to the acquisition board and for the beamforming scheme to be adopted. Its complexity
highly depends on the type of the transducer and the number of channels that are used to
produce the final ultrasound image. In the mid-end and back-end units, all the appropriate
signal and image processing techniques are applied to the raw data. Scan conversion entails
the final step of the procedure and transforms the acquired processed data to a 2D readable
image [52]. The fundamentals of ultrasounds are presented in the next section, by
deconstructing an ultrasound system of typical topology, to its components.
3.3.1 Ultrasound Transducers
As the name indicates, ultrasonic transducer is the hardware component that is
responsible for the transformation of the acoustic waves into electrical signal that can be
processed by the appropriate circuit. It is the sensory module of every ultrasound system.
The principle which most of the ultrasonic transducers are based on, is the piezoelectric
effect. The piezoelectric effect, discovered back in 1880 by Jacques and Pierre Curie, refers
32
to the ability of certain materials (mostly crystals and ceramics) to generate electric charge
as a result of applied mechanical stress (direct piezoelectric effect). The inverse procedure,
which is the generation of mechanical stress when an electrical field is applied, is also
feasible and is the basis of the production of ultrasonic waves (inverse piezoelectric effect).
The piezoelectric effect is illustrated in Figure 3-2.
+V
-V
-V
+V
L
w l
Figure 3-2: Piezoelectric Effect
Each transducer, in all ultrasound applications, consists of at least one piezoelectric
element. Combinations of more than one elements may be also used, in order to produce
enhanced acoustic signal. The shape and the dimensions of a piezoelectric element, along
with the pulse excitation (applied electric field), determine the desired characteristics of
the produced acoustic wave.
33
3.3.1.1 Important Characteristics
Different piezoelectric materials manifest different characteristics that are considered
to be of great importance and are closely related to the performance of the transducer. The
most important among them are the following; natural frequency (fo), quality factor (Q),
thickness (L), width (w) and length (l) of the element (Figure 3-2), as well as sound velocity
(ct) of the material.
Natural frequency (fo), depends only on the properties of thickness and sound velocity
of the piezoelectric material used. The most critical characteristic of a transducer though is
considered to be the quality factor (Q) which shows the ability of the transducer to maintain
the energy of the vibration internally. The quality factor is defined by the Formula 3-1,
below,
f
f
Q

 0
(3-1)
where Δf is the bandwidth, as defined in Figure 3-3.
34
f0
I0
I0/2
Power Density
Frequency
of Excitation
Δf
Figure 3-3: Transducer response around excitation frequency
The quality factor is a very important characteristic in ultrasound imaging, especially
in systems that use the pulse echo mode. In such systems, the goal is to transmit the energy
of the vibration towards the biological tissue and not to maintain it inside the transducer.
That is why, for general purpose ultrasound imaging we desire a low quality factor.
In pulse echo mode the excitation of the transducer is achieved by applying a high
amplitude pulse that makes it behave like a bell that is struck by a hammer. Such an
excitation forces the transducer to oscillate with natural frequency but with an exponential
decreasing amplitude (Figure 3-4).
35
Figure 3-4: Generated sound wave when pulse echo excitation is applied
The larger the quality factor, the slower the exponential decrease (energy that is kept
inside the transducer). When such an excitation is applied, the pulse duration (τ), which is
the actual time form the generation of pulse until it fades away, is related with the quality
factor with the formula:
0
2 f
Q

 (3-2)
Pulse duration is one of the most important characteristics, due to the fact that is related
to the Axial Resolution (AR) of an ultrasound imaging system, defined in the following
Equation:


4
4
2
Re
Q
f
Qc
c
d
solution
Axial 


 (3-3)
From Equation 3.3, it is clear that low quality factor can lead to short pulse duration
36
and in turn to better axial resolution. The two characteristics explained above constitute the
reason why for imaging purposes, piezoelectric materials with low quality factor are
preferred. Typical values of quality factor for medical imaging range from 1 to10.
The performance of a piezoelectric transducer can be characterized by fo and the beam
pattern. Beam pattern is actually the amplitude of pressure (created by the sound wave) as
a function of spatial coordinates, i.e., how the generated energy is diffused in space. For a
circular (disc) transducer that its surface vibrates periodically a) without acoustic lens and
b) with acoustic lens (for beam focusing), a simplified beam pattern is given in Figure 3-5.
The beam pattern of a transducer, using focusing technique is a highly interesting plot,
from where significant information can be derived, such as lateral resolution, focal length,
focal size and depth of focus.
37
Depth of focus
d
lf
Rf
Figure 3-5: Beam profile of simple (upper) and a focused (lower) piston ultrasound
transducer
Lateral resolution (LR) is defined as the ability of the system to distinguish two points
in the direction perpendicular to the direction of the ultrasound beam. As it is observed
from Figure 3-5, lateral resolution is location dependent and is equal to the beam width at
that location. Another detail that requires attention is that lateral resolution is optimal at
the focal point and degrades as we are moving away from focus. Focal length is actually
the location of the focal point, for the described transducer, and is given by the Equation
3-4 below.
38
l
m
l
f
c
c
R
l


1
(3-4)
Focal size, is the beam width at the focal length and thus the lateral resolution of a
system that uses a circular element at that location and is given in Formula 3-5:










D
l
d
f
c 44
.
2 (3-5)
In this, D is the diameter of the transducer. In the case that a transducer of rectangular type
is used, the corresponding beam width at the focal point is given by the Formula 3-6.










b
l
d
f
r 2 (3-6)
In this case, b is the width of the rectangular transducer.
Finally, Figure 3-5 shows that focusing is not achieved on one single point but instead
on a wide zone called focal zone. The width of focal zone is called depth of focus and is
described by the formula:










2
2
d
focus
of
depth (3-7)
Comparing Equations 3-5 and 3-6 with Equation 3-7, it is obvious that focal zone
depends on the focal size. In ultrasound imaging, it is very important that LR is kept
uniform across the image. As a result, high depth of focus is preferred. On the other hand,
39
high focal size will result in lower lateral resolution for the imaging system. Therefore,
lateral resolution versus depth of focus is another trade–off that researchers need to take
under consideration.
In the previous analysis, the most important characteristics of a single element
transducer were highlighted. These characteristics play an important role in the designing
of the transducer of the proposed system. Most of the aforementioned formulas regarding
the transducers characteristics can be modified, in order to describe any type of transducer,
according to the application.
3.3.1.2 Types of Ultrasonic Transducers
In this subsection the different types of ultrasonic transducers for medical application
are presented. Most of the piezoelectric transducers for medical applications (especially
those that are intended for imaging applications) consist of numerous piezoelectric
elements, in different array configurations. The geometrical configuration of the elements
and the way that they are excited, defines the type of the ultrasonic transducer.
The first criterion for distinguishing ultrasonic transducers, is based on their ability (or
inability) to steer or focus the acoustic beam and how they achieve the steering/focusing.
According to this, three basic categories for ultrasound imaging can be identified; a) piston
transducers, b) linear sequential array transducers and c) linear phased array transducers.
 Piston Transducers
Piston transducers were the first transducers employed for ultrasound imaging [53].
They are composed of only one piezoelectric element, of circular shape. Due to the fact
40
that single element transducers produce sound waves that are transmitted perpendicular in
respect to the transducer’s surface, the steering is achieved by mechanically rotating the
transducer around a fixed axis. In this way, the scanning produces a sector–shape region
(Figure 3-6). Although this type of transducer produces a quite acceptable field of view, it
was quickly replaced by array transducers, due to the disadvantages of mechanical steering.
Figure 3-6: Circular piston transducer and its corresponding field of view
 Sequential Arrays
Sequential arrays [54] consist of multiple elements in a row. The typical number of
elements varies between 128 and 512, depending on the application. Although sequential
transducers do not employ any steering mechanism (the scan lines are directed
perpendicular to transducers surface), the large number of elements gives them the
capability to produce an image with a field of view proportional to the number and the
width of the elements (Figure 3-7). As we examine later, we may have linear or curved
41
sequential transducers.
In this category, two important characteristics can be identified. The first one is that the
scanning procedure involves no mechanical steering (moving parts) whereas the second is
the great advantage that array transducers manifest, the capability to focus the beam
electronically, on different desired locations and depths, producing an ultrasound image of
higher quality. Electronic focusing of a sequential array transducer is achieved by
activating multiple neighboring elements with appropriate delays, so that the produced
waves can positively contribute to the desired location (focal point). As far as the main
disadvantage of this category is concerned, this is due to the fact that in order to increase
the FOV of a transducer, more elements should be added to it. That, not only increases the
average cost per transducer but also dramatically increases the total complexity of the
whole ultrasound system.
X-Axis
Y-Axis
Z-Axis
Figure 3-7: 1D linear array transducer and its corresponding field of view
42
 Phased Arrays
In order to overcome the disadvantage of limited FOV of sequential array transducers,
phased array transducers were proposed. Phased array [54] transducers operate in a similar
manner with the linear sequential array ones, with the only difference that they can also
steer the beam towards any desired direction. Thus, instead of emitting sound waves
perpendicular in respect to the elements surface, the sound waves can be transmitted
towards a different direction (Figure 3-8).
Using the same concept with sequential transducers, steering and focusing of phased
arrays can be achieved by electronically delaying the excitation of neighboring elements
during transition. The scanning of region of interest produces a sector – shape region and
is illustrated in Figure 3-8. Such a transducer can impressively improve the quality of
ultrasound images using a technique called dynamic receive focusing [55]. Although phase
array transducers require more complex systems to operate in the desired way compared to
sequential array transducers, they present the advantage of improved field of view, without
requiring to increase the total number of elements.
43
X-Axis
Y-Axis Z-Axis
Figure 3-8: 1D phased array transducer and its corresponding field of view
So far, we have examined the major categories of ultrasonic transducers, with respect
to their capability to steer and focus the beam. However, ultrasonic transducers can be also
classified with respect to the geometrical configuration of their elements (1D grid, 2D grid,
annular grid, etc.). Taking under consideration both classification schemes, the most
commonly used transducers for medical applications are identified and presented. Those
are the a) linear (1D) arrays, b) curvilinear arrays, c) 1D phased array transducers, d) 1.5D
phased array transducers and e) 2D arrays (rectangular or annular).
 1D Linear Array Transducers
The firsts transducers widely used in hospitals for ultrasound imaging were the 1D
linear array transducers, exactly the way they were described above. They consist of a wide
44
number of piezoelectric elements (up to 512) in a 1D array structure (Figure 3-7). Each
time, an acoustic beam needs to be created, a predefined number of elements is activated
and the beam can be focused straight ahead but cannot be steered. The result of scanning
is a rectangular 2D image of the region of interest to be formed in the screen. Linear
sequential arrays were the first array type transducers that replaced pistons transducers for
imaging purposes by N. Born 1971. The main drawback of this type of transducers lies in
the inherent fact of the reduced field of view which is equal to the footprint of the
transducer. They were primarily used in applications of small depth monitoring.
 Curved Array Transducers
The second type is the curvilinear or curved array transducers [56]. This type belongs
to the second category of transducers (linear sequential arrays) and operates in a similar
manner with the previously discussed type (1D linear arrays). That is, they present the
electronic focusing but they lack the electronic steering property. Primary distinction from
linear array transducers (and at the same time a great advantage) is that the elements are
manufactured to follow a curve shape (Figure 3-11, d) instead of straight line. This
curvature offers a significantly better field of view. Curved array transducers are used for
general purpose applications and for internal organ monitoring in the abdominal region.
The image produced is a 2D plane image of a sector – shape surface (Figure 3-11, d).
 1D Phased Array Transducers
1D phased array transducers belong to the third category (phased array transducers)
and present the same configuration with 1D linear arrays (Figure 3-8). Typical number of
elements for 1D phased array transducers are usually in the range of 64–256. Although
45
they are usually composed of fewer number of elements compared to 1D linear array, are
considered to be more complex, due to the fact that they incorporate electronic steering
mechanisms. Another characteristic that contributes to the increased complexity of phased
array transducers id the fact that they make use of all the elements, during transmission and
reception. 1D phased array transducers can steer the beam only in the azimuthal plain. As
described in the previous section, they produce a sector shape image but with enhanced
image quality especially if technique such as dynamic receive focusing is adopted. In favor
of the advent of technology, phased array transducers are becoming more popular than
curved arrays although there are more complex. Lastly, it is worth mentioning that 1D
phased arrays are widely used in cases where there are obstructions such as bones and the
scanning should be done through a small opening (cardiac activity monitoring) [57].
 1.5D Phased Array Transducers
1.5D transducers is a combination of 1D phased array and 2D phased array transducers
[58]. Their structure is similar to the 2D arrays, in the essence that they contain elements
in both directions but with the difference that in the elevation direction, they contain only
a limited number of those (usually less than 10). In that way, they provide a steering
capability only in the azimuthal direction and the surplus of elements in the elevation
direction is used to improve the quality of the image by improving the strength of the pulse-
echo signal.
 2D Phased Array Transducers
This type of transducers belongs to the third category as well. The elements are placed
in a 2D shape (Figure 3-9 and Figure 3-10) and are extended in both azimuthal and
46
elevation direction [59]. The remarkable advantage of this configuration is that the
scanning of the ROI can be done in both the elevation and azimuthal direction, producing
a 3D representation of the region of interest. Transducers that can generate a 3D image are
called volumetric transducers. Despite the potential and revolution that such transducers
may bring to ultrasound imaging, they still have not yet been fully integrated in the current
ultrasound machines. The major drawback of 2D phased array transducers resides in the
fact that the cost for both the acquisition system and the transducer itself is radically
increased. The complexity of the circuitry present the same behavior. That is due to the
fact that they are composed of thousands of elements (up to 64,000). In addition, the
scanning time for a whole region of interest in many cases is prohibitive for real-time
applications. Advancements in DSPs, FPGAs and in the power consumption requirements
of digital circuits in the last decade will play a primary role in the establishment of 2D
ultrasound transducers for most numerous applications especially for monitoring organs in
the abdominal region.
47
X-Axis
Y-Axis
Z-Axis
Figure 3-9: 2D phased array transducer and its corresponding field of view.
X-Axis
Y-Axis
Z-Axis
Figure 3-10: 2D circular phased array transducer and its corresponding field of view.
48
 Volumetric Transducers
Real-time volumetric imaging is one of the challenges in medical ultrasound that have
attracted the attention of many researchers. 3D images may hold more information in
comparison to multiple 2D slices of the ROI, and can be used in various applications such
as surgery planning. The first transducers that were capable of capturing the whole volume
of the questioned organ were the mechanical scanners. These are usually 1D array
transducers with the capability of mechanically rotating the orientation of the array in
different angles. In this way, the clinician was able to acquire 2D plane images for different
angles and thus covering a whole volume of interest. The appropriate software was
responsible through image processing and image analysis techniques for the final outcome
to be generated. In this case though, the accuracy and the quality of the obtained 3D
representation highly depends on the stability and the skills of the radiologist.
Modern volumetric ultrasound transducers [60] are the 2D phased arrays described above.
As elucidated, the fundamental advantage of phased arrays over the mechanical scanners
is the competence of electronic steering and the ability of beam focusing in the desired
(predefined) focal point. The whole scanning procedure of the 3D ROI is conducted
automatically and the image in most of the systems is produced in almost real time. An
exhaustive research in the capabilities and the potential of 3D ultrasound scanners can be
found in [61].
49
Figure 3-11: Different types of transducers and the region that can monitor: a) linear
arrays, b) 1D phased arrays, c) curved arrays d) 2D phased arrays (square) and e) 2D
phased circular arrays
In Figure 3-11, the different types of ultrasound transducers that mentioned above are
depicted. So far, we described ultrasonic transducers that are using piezoelectric elements
and are based in the piezoelectric effect to produce the ultrasound waves. Recently,
researches proposed the use of a different type of transducers that use a completely different
philosophy in the generation and the recording of sound waves. Following we describe this
type of transducers.
 Capacitive Micro-Machined Ultrasound Transducers, CMUTs
Recently, the use of capacitive micro-machined Ultrasonic transducers was proposed
50
instead of piezoelectric elements, as the future in ultrasound imaging delivering new
expectations in the field. Researches are still in progress in order to determine the success
of theirs use as the fundamental component of the probe and the benefits that can attach to
ultrasound systems in contrast to conventional PZT elements. One of the most imperative
characteristic of the CMUT is that the can be easily integrated with electronic circuits while
at the same time offering enhanced bandwidth leading to a better axial resolution and can
be easily fabricated [62].
3.3.2 Acquisition Circuit
The most significant module of an ultrasound system is the acquisition circuit (or main
board). The acquisition circuit may be composed of different hardware components, such
as FPGAs, DSPs, ASICs, etc. In the acquisition circuit three main processes are performed,
as shown in Figure 3-12, that are required for signal acquisition and signal processing
(before the final ultrasound image is formatted and presented in the display monitor), as
well as for image processing techniques (for image formation and image quality
improvement). These processes are the front–end, mid–end and back–end units and
compose the ultrasound image formation chain.
Frond-End Mid-End Back-End
Figure 3-12: High level representation of the processes performed in the acquisition
circuit
51
3.3.2.1 Region Scanning and Beamforming Schemes: Front – End
The front-end part of the acquisition board is responsible for the beamforming scheme.
In this section, the ROI scanning and image formation procedure, using a typical ultrasound
transducer and beamforming scheme is described.
The term beamforming, is referred to the algorithmic steps that are used for scanning
the ROI in a predefined manner, as well as the way that the raw data are collected and
processed by the system, in order to produce the desired image. A beamforming algorithm
considers a) the number of elements that are activated during transmission, in order to
produce a sound beam with a specific profile b) the delays to be assigned in those elements,
in order to steer or focus the beam to the desired predefined point and c) the corresponding
number of elements and delays during reception. Beamforming is the process of using
electronic circuits for the multiple sound waves to steer and focus the overall beam in a
specific focal point (transmit beamforming) and at the same time to record the echo sound
waves coming from multiple directions and correspond them to the correct point from
where they are really coming (receive beamforming).
Most of the modern transducers described in the previous section like the 1D and 2D
phased arrays (either rectangular or annular), as well as the CMUT use different
beamforming techniques to produce the final B-Mode image. B–Mode image is the
standard ultrasound grayscale image of a typical ultrasonographer. The letter B stands for
Brightness. A wide variety of beamforming schemes have been adopted, based on the type
of transducer utilized, the type of image (2D or 3D), and the application itself. Herein, the
image formation procedure, of a classical 2D B-Mode ultrasound image is described. For
52
this particular case, 1D phased array transducers are used, as they are the most frequently
implemented.
Before we go deeper into the description and the analysis of the beamforming, it is
important to address few more issues. Firstly, we would like to explain the way in which a
particular region of interest is scanned by the transducer. Supposedly, we have the case of
Figure 3-13 where the whole region is scanned by sending sound waves towards predefined
directions with the ultimate goal to cover the whole ROI.
Figure 3-13: Typical sector scanning using 1D phased array transducer
Every time a sound wave (scan line or A – line) is sent towards a predefined direction
towards the tissue, the echo needs to be recorded in order to acquire the information in this
particular direction. In order to produce the final B–mode image, information from all the
scan lines, N in total, is required. Following this reasoning, Frame Ratio or Frame Rate
53
(FR) that declares the number of frames (images) per second can be defined (Equations 3-
8 to 3-10).
c
D
tA
2
 (3-8)
A
f t
N
t *
 (3-9)
D
N
c
t
FR
A *
*
2
1

 (3-10)
In the above, A
t is the time required to record the information of one scan line at a maximum
depth D, f
t is the time required to record all the N scan lines or, in other words, one frame
(image) and c is the speed of sound inside the biological tissue (usually c = 1540m/s).
Given the case illustrated in Figure 3-13, Lateral Resolution (LR) that was defined in
section needs to be redefined. In Equation 3-6 it is shown that the lateral resolution for a
single rectangular element is equal to the focal size (dr) of the beam. For a multi-element
linear array transducer, the width b can change by the effective width b*, which indicates
the width of the active elements of the transducer, and the formula remains the same. Thus,
we may rewrite Equation 3-6 for 1D linear array transducer to Equation 3-11. From Figure
3-13, due to the divergence of the scan lines, the actual LR of the system is given in Formula
3-12.










b
l
d
f
r 2 (3-11)
)
,
max( dist
dr
LR  (3-12)
54
In the above, dist is the distance between two consecutive scan lines both at a specific
depth. It is obvious that the lateral resolution of the imaging system depends on different
parameters such as the focal length (transducers property), number of scan lines (N) and
depth that is measured. Another important observation is the fact that for phased array
transducers, lateral resolution degrades as the beam propagates deeper inside the tissue.
Now, the process of electrical focusing and steering for a typical 1D phased array
transducer will be described. Supposedly that the 1D phased array transducer illustrated in
Figure 3-14 is used, and that is composed of 7 elements. In order to focus the beam on a
predefined point, part of the total number of elements (or all of them) in the configuration
of the transducer are activated, each with a certain delay. Delays are assigned in such a
manner that all the sound waves generated from the active elements reach the desired focal
point at the same time.
D
D
D
D
D
D
D
Figure 3-14: Electronic beam focusing during transmission using 1D phased array
transducer
The steering of the beam is obtained by assigning different delays in each activated element
(Figure 3-15). Combining the electronic delays of Figure 3-14 and Figure 3-15 we can
achieve simultaneously, both electronic focusing and steering.
55
D
D
D
D
D
D
D
Figure 3-15: Electronic beam steering during transmission using 1D phased array
transducer
During reception the procedure remains almost the same. Figure 3-16 illustrates the case
of recording an echo from a particular point (here is point P) during reception. The reflected
wave (echo) from this particular point will be measured from all the active elements
assigning the corresponding delays. The coherent summation of those signals corresponds
to the measurement for that particular point. This whole procedure described above entails
the beamforming scheme for the illustrated paradigm for the case of 1D phased array
transducer.
56
D
D
D
D
D
D
D
Σ
Combined Echo
P Q
Figure 3-16: Delays assignment during reception.
The interrogation of the region under testing is achieved using the process described
above. At this point, it is important to highlight that for each transmitted beam in a particular
direction there is only one focal point. On the other hand, during reception we may apply
the dynamic receive focusing which is the dynamic adjustment of delays, in order to focus
in the echoes coming from different depth zones (Figure 3-16 points P and Q). The number
of depth zones per scan line, the number of scan lines and the algorithm that is adopted are
critical parameters that characterize the overall performance of the system and the quality
of the image to be displayed. Increased number of scan lines will lead to higher lateral
resolution (bottom-line is the lateral resolution that can be achieved by the transducer) while
at the same time the Frame Ratio (FR) will decline.
Modern volumetric transducers are operating with the same manner. The only difference
is that the scanning of ROI is performed in both azimuthal and elevation directions by
activating the appropriate row or column of elements each time and assigning the desired
delays. Herein, it is important to highlight that all the work described above, is the
beamformer’s unit responsibility.
57
As mentioned earlier, the front-end processes of the main board of the ultrasound system
are responsible for the beamforming scheme. In current systems, front-end can be further
divided into the a) analog front-end, that takes care of the analog signal processing of the
raw data captured by the system and the b) digital front-end, which contains the
beamformer’s control unit, the transmit beamformer and the receive beamformer (Figure
3-17). It is obvious from Figure 3-17 that each received signal should go through a number
of analog preprocessing steps. Those preprocessing steps require certain hardware
components, such as Low-Noise-Amplifier (LNA), Variable-Control Amplifier (VCA) -
usually called Time-Gain-Control (TGC) amplifier- and Analog to Digital Converters
(ADC). For this reason, the number of channels in the acquisition circuit should be equal to
the number of transducer elements or at least equal to the number of the active elements,
especially for high quality, real – time imaging. The sophistication and complexity of the
system that use more than 128 elements is extraordinary. At this point it is worth recalling
that a typical 2D transducer may contain thousands of elements.
58
LNA
VGA
ADC
Low Pass
Filter
Transmit Beamforming
Receive Beamforming
Beamformer Control
Unit
Transducer
DAC
Low Pass
Filter
Transducer
Mid - End
Digital Front - End
Analog Front - End
Figure 3-17: Front – end unit of the main board of a typical ultrasound system
3.3.2.2 Signal Processing: Mid – End
The beamformed RF data of each scan line are fed to the mid-end component of the
main board. Mid-end is responsible for signal processing techniques, such as filtering,
envelop extraction or detection and log compression (Figure 3-18). Signal filtering is used
to reduce electronic noise added in the signal through the first stage of processing (analog
end). In addition, filtering in this stage may be used in order to select between the
fundamental and the harmonic imaging (extraction the second harmonic of the natural
frequency of the RF signal). Envelop extraction is usually implemented using Hilbert’s
Transform. The resulting complex signal is independent of the operating frequency and the
magnitude of this signal is the actual detected signal for imaging. Finally, log compression
is used to reduce the dynamic range of the original echo signals (about 110dB) in order to
fit the dynamic range of a typical grayscale monitor (48dB).
59
Filtering Envelop Detection Log Compression
Figure 3-18: Mid – End unit of a typical Ultrasound system
3.3.2.3 Image Processing: Back – End
After the beamformed RF data has been processed and log compressed, it is passed to
the back–end part. Back-end is responsible to deliver clinicians a readable image with the
best possible quality. The first and most important step is the scan conversion. Scan
conversion is used to interpolate the preprocessed data of scan-lines into a rectangular
image grid. Finally, after the B-mode image has been created, different image processing
techniques may be applied for noise reduction, especially speckle (Figure 3-19).
Multiscale, wavelet-based decomposition with soft thresholding as well as anisotropic
filtering, are the most commonly filters used.
Scan Conversion Image Processing
Storage Memory
Figure 3-19: Back-end unit of a typical Ultrasound system
60
In particular, for the needs of the current study, it is necessary that the scan conversion
component of the back-end unit is a bit further analyzed (Figure 3-20).
P(0,0)
P(1,0)
P(0,1)
P(1,1)
y
x
P(x,y)
y-axis
x-axis
Figure 3-20: 2D scan conversion, mapping the scan lines into a rectangular grid (2D
image)
61
2D scan conversion technique is based on interpolation. In Figure 3-21 below, interpolation
is illustrated, based on the configuration above (Figure 3-20). The notation mentioned here,
is very important in latter chapters of the current dissertation, since it is used extensively.
In this, k is the number of scan line xOy
 plane, whereas i is the number of sample that
belongs in the scan line k.
P(1,0) P(i, k)
P(i+1, k) P(i+1, k+1)
y
x
P(x,y)
# of scan line, k # of scan line, k + 1
# of sample, i
# of sample, i + 1
P(i, k+1)
P(1,1)
P(0,0)
P(0,1)
y
x
P(x,y)
y-axis
x-axis
Figure 3-21: Notation of bilinear interpolation approximation, in the case of 2D scan
conversion
3.3.3 Monitors
All ultrasound imaging systems used in hospitals or most of the portable ultrasound
machines, require a screen in order for the readable image to be displayed. Most of such
62
screens are LCD screens. There are cases though, where the display screen may be the
screen of a personal computer or a mobile smartphone.
3.4 Limitations of Ultrasound Systems
In this section, some of the disadvantages of ultrasound machines as well as the
challenges that pose to the researchers and designers, are discussed. Throughout the
deconstruction of current ultrasound machines many of those challenges were revealed.
Trade-offs between focal size and depth of focus that affects the beam profile and the LR,
dependence of FR and LR for 1D phased array transducers (and not only), complexity of
volumetric transducers are only few of a wide range of key characteristics that researchers
should focus on. Herein, we will take a closer look to those.
3.4.1 General Restrictions
3.4.1.1 Dependency on Sonographer’s skills
One of the main disadvantages of USI over MRI or CT imaging lies in the fact that the
latter two modalities may provide a highly accurate volumetric image of the ROI without
the intervention of the clinician (although the presence of the clinician is mandatory the
scanning of ROI is performed by the machine). In this case, the body of the subject takes
place in a specially arranged chamber while the patient is asked to remain still for few
seconds. Depending on the volume of ROI, the location and the type of the abnormality,
the whole procedure may endure from a few minutes to more than an hour. The great
advantage is that finally clinicians obtain a 3D representation of the whole ROI.
63
On the contrary, ultrasound examination requires the permanent presence and
innervation of a sonographer. Sonographer is responsible to manually scan the whole ROI.
Using 1D phased array probes (for a typical abdomen examination) real – time images are
presented to the monitor. Sonographer is responsible to interrogate the region or organ of
interest extremely carefully in order to identify possible pathogens and abnormalities. The
whole procedure requires very good anatomy knowledge, stability and 100% attention and
still is very vulnerable to human error. Lately, 2D array transducers are able to provide 3D
image representation but yet the limited FOV of the sensors along with the current structure
of probes requires on the spot examination of trained personnel.
3.4.1.2 Real – Time 3D Ultrasound Imaging
One of the greatest headaches of designers of ultrasound imaging systems is the need
for real – time (almost 30 frames per second) volumetric image. In the previous section,
the operation of 1D phased array transducer was described and two important observations
were derived.
The first observation is that every piezoelectric element of a transducer needs to have
its own channel in the analog front – end in order to undergo several preprocessing steps.
This may be done in two different ways. The first one is to have an analog front end with
as many channels as the number of elements of the transducers in order to increase
concurrency. In the case of 2D phased array transducers that are composed of some
thousands of elements, this is prohibitive due to the fact that both cost and the complexity
of the system are dramatically increased. It is obvious that such a case is not a viable
solution for low-cost, portable ultrasound machines. The other way is to use a fixed number
64
of channels and make the elements alternatively use those instead. In this case the FR
decreases. Therefore, another critical trade-off that exists in the case of 2D array
transducers is identified, among the cost, the complexity and finally the frame ratio.
The second observation is that the triplet LR, number of scan lines and FR constitutes
another significant trade-off in the design phase of ultrasound systems. In section 3.3.2.1
was clear how lateral resolution depends on the number of scan lines per image.
Additionally, Formula 3-10 indicated the reverse relation between the number of scan lines
and the FR. Here lies the main reason why most of the current 3D ultrasound imaging
solutions present very poor image quality with reduced resolution. It is extremely difficult
to design a real-time machine without sacrificing image’s resolution.
Combining both observations above it becomes clear that the whole venturing of
portable, low-cost, real-time machine capable of providing high quality volumetric images
is an extremely difficult task. In fact, designers and researchers need to take into account
numerous restrictions and make several compromises, in order to come up with the
appropriate ultrasound machine for the appropriate application.
3.4.2 Image Quality Artifacts
Image quality is indeed one of the weakest’s point of USI compared to other medical
imaging techniques such as MRI and CT. USI suffers from two characteristics that highly
degrade image’s quality. The first one is the poor resolution, which is due to either
hardware limitations (transducers properties) or to real-time restriction requirements. A
typical ultrasound machine may produce images AR between 0.1 – 1 mm and LR between
1 – 10 mm. For low-cost systems, these values are closer to the right end of the intervals.
65
The second characteristic is that the quality of the image is affected by numerous artifacts
such as speckle noise, high and low attenuation and reverberation to name but few. Herein,
the most important ones are described.
3.4.2.1 Speckle Noise
Noise is present in every ultrasound image and is usually known with the term speckle,
a multiplicative type of noise formed by the constructive and destructive interference of
back scatter signals, from objects (scatterers) much smaller than the system’s spatial
resolution [63]. Speckle reduction is of great importance, as it can significantly improve
human interpretation of ultrasound images and at the same time enhance the overall
performance for several image preprocessing and processing tasks (registration,
segmentation). Speckle noise and current approaches for reduction of speckle noise are
extensively discussed in Chapter 5.
3.4.2.2 High and Low Attenuation Artifact
Most of biological tissues present the same or similar attenuation coefficient with
water. This homogeneity has its own merit to the feasibility of ultrasound image creation.
Nevertheless, there are certain tissues such as bones that manifest much larger attenuation
coefficient compared to soft tissues. The result of beam passing through a bone region is
that the most or even whole energy of the beam may be absorbed and everything else
beyond this region will appear black in the screen. The opposite effect is encountered when
the acoustic beam passes through a region with a very low attenuation coefficient. As a
result in this occasion, everything beyond that region may appear very bright making
distinguishing of boundaries impossible. In general, in both cases all the information that
66
is hidden beyond these regions cannot be revealed. For current ultrasound systems there is
no way to overcome this particular phenomenon but only to partially decrease it during the
scanning process, with the radiologist trying to avoid bones or bubbles of air.
3.4.2.3 Side Lobe Artifact
The beam pattern of the transducer and the direction of signal’s energy affects a lot the
performance of the transducer and the imaging system. In particular, if there is leak of
energy towards other directions than the main one, then structures and boundaries that are
present at the sidelobes direction, may erroneously appear as a signal from the main lobe.
Current solutions are based on adjusting the geometry of transducer elements in order to
suppress side lobes or utilizing the second or higher order harmonics.
3.5 Challenges and Ongoing Research on
Portable/Wearable POC Ultrasound Systems
In ultrasound medical imaging one can distinguish two major categories of Point-of-
Care devices: a) portable ultrasound systems, b) and wearable ultrasound systems. In the
former category, many devices have been proposed and are extensively used in hospitals
by trained staff. Additionally, PC based systems have been reported. Recent advancements
in the field lead to the integration of ultrasonic probes with mobile phones [64]. The latter
category proposes the integration of ultrasound sensors with garment in predefined position
to interrogate particular regions inside the human body. A representative system in this
category was proposed by A. Basak and V. Ranganathan [65] in 2013. This paper described
an ultrasonic wearable system of 3 stand-alone CMUT transducers placed in particular
67
parts of the human body for periodic monitoring. The device was intended to capture the
changes of superficial cancer prone organs.
During the last decades, the usability and applicability of ultrasound systems has been
significantly improved. Technological advancements in integrated circuits, digital
electronics, beamforming techniques and transducer technology [66], [67] have
contributed significantly to the development of miniaturized systems with improved
computing capabilities, image quality as well as energy performance. These advancements
have played an important role in research, regarding low-cost, portable ultrasound systems
for POC applications. Such applications include but are not limited to patients been
monitored in their bed side, nursing homes or in the Intensive Care Unit (ICU) [9]. These
emerging clinical applications have intrigued researchers to propose and develop a wide
variety of portable systems each of which has advantages and limitations [65], [68], [69],
[70], [71], [72], [73]. Undoubtedly, designing a low-cost ultrasound system able to provide
an acceptable and adequate image quality can be a quite challenging task. This venture
becomes significantly harder in the case of volumetric ultrasound imaging (3D UI) and this
is the main reason why most of the attempts so far, have been mainly focusing on 2D B-
mode imaging [68], [69], [70], [71], [72], with a few exemptions [65], [74], [75].
The major obstacle in developing real-time 3D UI for POC systems is their complexity,
due to the number of channels required and the low frame ratio, which finally result to
questionable image quality that can be achieved. In particular, research studies regarding
real-time 3D ultrasound systems, focus on a) transducer design and development, b) array
signal processing, beamforming techniques, c) the use of appropriate hardware components
68
and d) image reconstruction methods and visualization. As a result, it becomes really
challenging for designers today, to be well-informed and aware of all latest achievements
in the above fields, in order to select the best scheme in regards to the application they are
dealing with. In the rest of this section the evolvement of those research areas is analyzed.
3D USI systems use 2D phased array transducers [76], [77], [78], [79]. Most of them
consist of thousands of piezoelectric elements, in numerous configurations that are wired
and integrated to the acquisition circuit. Thus, the main obstacle for the implementation of
such systems is the complexity of their architecture that makes the integration of all
electronics and their interconnection to the circuit a challenging task. Regarding
transducers design, efforts have been mainly focusing on reducing the number of active
elements [78], in order to decrease system’s cost and complexity while at the same time on
improving transducer’s spatial response. Most of the studies conducted, target at the
optimization of certain parameters, such as lateral resolution, axial resolution, and great
lobes reduction, by adjusting the geometrical parameters like the width and height of the
elements, pitch between them or the size of the transducers.
Secondly, in order to reduce complexity and the number of channels in the main
acquisition board, researchers have turned their interest into applying different
beamforming schemes. Beamforming schemes aim at a) reducing the number of active
elements, and as a consequence the number of channels in the acquisition board [80], b)
reducing the actual time of ROI scanning, as well as c) producing better image quality.
This can be achieved by different ways of processing the huge amount of data acquired by
the thousands of elements, in order to produce the volumetric image. The gold-standard
69
that produces the best possible image quality is the conventional phased array (CPA)
beamforming scheme. With CPA, all transducer elements are utilized during transmission
and reception. However, CPA imaging suffers from high interconnection complexity,
system cost and power requirements due to the number of active elements, making its use
for low-cost, portable systems prohibited. Another technique that has been proposed, is the
Synthetic Aperture (SA) imaging [81] which reduces complexity in the front-end circuit.
In SA, a single or small number of elements are selected and exited during transmission
and reception, at multiple acquisition steps. The final image is constructed using the
superposition principal. Classical SA imaging suffers from low signal–to–noise ratio
(SNR) and low contrast resolution. A way to increase SNR is to increase the active number
of elements. Moreover, a combination of Phased Array and Synthetic aperture, called
Phased Subarray (PSA) has been proposed in order to tackle system’s complexity, by
reducing the active elements utilized in each firing. Parallel beamforming (PB) imaging
has been used in order to meet real – time 3D imaging requirements [82]. In this method,
one beam with wide main lobe is produced by a predefined subarray during transmission,
while during reception the use of large receive array leads to numerous parallel narrow
band receive beams. The described procedure reduces the number of firings by a scale
equal to parallel narrow band beams but at the expense of image quality. Other techniques
that have been proposed include sparse array processing [83], phased subarray (PSA) [84]
imaging, adaptive beamforming [85] to name but few. In [86], an extensive comparative
study between SA and PB imaging is conducted and reveals advantages and shortcomings
of each method.
70
The third major topic of interest in every ultrasound system is the processes that are
required to form the classical B-mode image. The processing chain from the acquisition of
beamformed data to image generation, is almost the same for every system. Mid-end and
Back-end (Figure 3-22) processes include signal filtering, decimation, envelop detection,
log compression, scan conversion and different image processing techniques [52].
However, the hardware components of ultrasound machines that host the aforementioned
processes vary, depending on the application. In the case of portable systems, they are
mainly based on application specific integrated circuits (ASICs) [70]. Although ASICs are
used to achieve miniaturization and cost reduction, systems that use them, lack scalability
and functional flexibility. These two properties are of significant importance in a
continuous evolving environment of clinical applications for ambulatory and remote
monitoring, for both controlled and hostile sites. To effectively tackle lack of scalability
and flexibility, and the same time reduce the overall cost, designers turned their interest to
digital signal processors (DSPs) and field programmable gate arrays (FPGAs) [68], [72].
Different configurations have been proposed, depending mostly on the requirements of
each application. In [69] a system based on an analog board AB – FPGA – DSP – PC was
proposed for fast color Doppler imaging . In [71] the integration of the ultrasonic probe
directly to a PC was presented. In Figure 3-22, b the common hardware components are
shown, along with the processes of ultrasound acquisition chain that are dedicated to each
one of them. It is in designer’s discretion, biased by systems requirements which module
to use and which process to employ in each module.
Last but not least in ultrasound research, ultrasound image processing and ultrasound
image enhancement [87], [88] is considered of significant importance. Ultimate goal is to
71
improve the relatively poor ultrasound’s image quality. The majority of the efforts so far,
have been focusing on alleviating speckle noise; a multiplicative type of noise that obscures
image’s detail and significantly reduces speed and accuracy of registration and
segmentation procedures. In addition to speckle noise, ultrasound images are considered
of low resolution, while at the same time they manifest low contrast to noise ratio.
Beamforming and super-resolution (SR) techniques have been adopted to deal with
these obstacles. Spatial compounding and adaptive beamforming are techniques widely
used in current machines. Regarding SR, although it is closely related to images produced
by cameras, satellites etc., [89], [90], [91], the principles it is based on can be applied to
ultrasound images as well [92], [93].
72
Front – End Mid – End Back – End
FPGA/ASIC
AFE DFE
Analog Board
Mid – End
Mid –
End
DSP
Mid –
End
Back – End
Mid – End
PC
Mid –
End
Back – End
Mid – End
Figure 3-22: a) Typical image processing chain for ultrasound systems; b) Hardware
components that might be present in an ultrasound system and which process is
dedicated to which component
A more detailed description of speckle noise reduction, super-resolution and image
enhancement techniques, is presented in the introductory section of Chapter 5.
73
3.6 Conclusions
In this chapter the principles and fundamentals regarding medical ultrasonics were
presented. All the components of a typical ultrasound system were in depth described
whereas limitations and shortcomings were analyzed. In the last section, a brief survey on
the ongoing research regarding the portable ultrasound machines was conducted. The
current chapter was responsible to provide the reader with the fundamental knowledge
regarding ultrasound system architecture and reveal gaps and limitations of portable
ultrasound systems, especially for 3D ones.
The main observation is that it is crucial for researchers to collaborate with designers
when designing a new ultrasound system and also be able to analyze and apply their
findings in order to produce the final product. Depending on the application, designers are
responsible to select a set of parameters that are best for their product. Those are the type
of transducer, beamforming technique, reconstruction method, processes in ultrasound
chain, hardware components, number of channels in main board, number of scan lines and
so on. Chapter 3 was one of the most important chapters for the reader to be able to follow
the reasoning behind the proposed architecture presented in Chapter 4, as well as the
proposed methodology for image de-noising and image enhancement that will be discussed
in Chapter 5.
74
4
PROPOSED PORTABLE
3D ULTRASOUND SYSTEM
4.1 Introduction
So far, typical ultrasound machines have been examined and important limitations,
restrictions and shortcomings of such systems have been described. In this section, the
proposed approach for designing a low- cost, wearable/portable 3D ultrasound system, with
extended capabilities, for POC applications, is explained.
The proposal is based on an alternative way of view regarding ultrasound examination.
That is, if only structural information is required, clinician’s intervention at the
scanning/examination phase can be eliminated using volumetric transducers. This can
effectively reduce the error incidence frequency during examination (carelessness of
clinician). If multiple 2D transducers are placed appropriately and in specific locations,
bigger areas can be monitored and clinicians can directly obtain the whole VOI. Only
responsibility of the clinician will then be to thoroughly examine the produced 3D image,
in a similar way that CT and MRI examination is performed.
75
Although the idea is simple, designing and implementing such a system remains a
challenging task. The use of multiple transducers, as will be described in latter chapter,
manifest an additional great advantage. This advantage lies in the fact that the redundant
information provided by the transducers can be used for image enhancement. In the
following sections a more detailed description of the system architecture as well as its
operation is given. The way of exploitation of the redundant information will be presented
in the next Chapter.
4.2 System Architecture
4.2.1 Motivation and Description
The general architecture of the system has been proposed in [94], [95] and a high level
description is given in Figure 4-1. This system is designed to exploit three basic features
which actually constitute challenges that modern POC applications need to address. It
should be able to a) provide 3D volumetric images of the ROI independently of clinician’s
skills, b) provide increased FOV capabilities and c) produce 3D B-mode ultrasound images
of enhanced quality and resolution, compared to other low-cost portable/wearable
solutions. At the same time the complexity of the system should be kept at the lowest
possible level.
76
Main Board
Memory Storage
Array of Transducers
Figure 4-1: High level description of proposed ultrasound system
The approach is based on the observation that by utilizing more than one volumetric
transducers in a single system, all three abovementioned features can be incorporated to
the system at once. The main advantage though, of using multiple, very simple (smaller
number of elements) 2D array transducers, is the reduction of complexity, compared to a
system of a single 2D transducer with thousands of elements. Moreover, the deterioration
of image quality and resolution of such a system can be compensated by off-processing
image fusion and SR techniques as it will be described in later chapters.
This system mainly intends to be used for structural visualization of the human internal
body. Thus, at the design phase, several assumptions were made. First and foremost, it was
assumed that there is no need for the system to comply with real-time requirements, i.e.,
20-30 frames per second. As it is discussed later, this assumption is very critical for the
effectiveness of the proposed methodology regarding image enhancement, due to the fact
that frequency compounding can be performed, without worrying about time restrictions.
Lastly, it was assumed that there are high accuracy 3D motion estimation algorithms that
can be used in order to align images, taken from different transducers.
77
4.2.2 System operation
One of the most important steps in designing a system, is to define its purpose. In the
current case, the ultimate goal is to provide volumetric B-mode images of the abdomen.
Thus, the selected frequency of operation needs to be somewhere between 2 – 4 MHz, in
order higher penetration depths to be achieved. Secondly, real – time requirement is one of
the most challenging tasks for volumetric imaging. Although for the current application
there is no need for real – time imaging with the strict meaning of the term (20-30 frames
per second), it is important to set an upper limit. An upper limit (at the scale of seconds)
was set, in order to capture one image from all the transducers. The formula is given below
in (4-1):
  sec
10
_
_
2
_
#
_
#
# 







 

















Sound
of
Speed
Depth
line
Scan
Firings
Frame
lines
Scan
s
Transducer (4-1)
Knowing the desired maximum depth of the system as well as the number of scan lines
and firings for each one of them during the scanning procedure, the total time required to
produce an image from each transducer can be computed. In the illustrated example, one
firing per scan line was used whereas the focus point was set equal to 90mm. The desired
maximum depth was set at 15cm. In each direction, i.e. azimuthal and elevation, 45 scan
lines were used. That is, in total 2025 scan lines to produce the image of one sensor. This
yields in total time of ~1.5s. As far as the FOV of each transducer is concerned, it was
selected to be 450
in both directions. The limited FOV was set during the transducer design.
Another advantage of the proposed system is that can overcame the limited FOV that is
restricted by hardware limitation using multiple transducers. It is worth highlighting that
78
all numbers above have been selected for the example showcased. The system is based on
configurable hardware thus it is amenable to changes depending on the applications and its
needs and restrictions.
The approach is based on the observation that by utilizing more than one volumetric
transducers in a single system, all three abovementioned features can be incorporated to
the system at once. The main advantage though, of using multiple, very simple (smaller
number of elements) 2D array transducers, is the reduction of complexity, compared to a
system of a single 2D transducer with thousands of elements. Moreover, the deterioration
of image quality and resolution of such a system can be compensated by off-processing
image fusion and SR techniques as it will be described in later chapters.
4.2.3 Transducer’s Design
One of the most important features of the system is its sensory unit, i.e., the transducer. As
mentioned several times during this dissertation, the system is designed to consist of
several volumetric transducers. In particular, for the proposed design, four (4) 2D phased
array transducers were selected. 2D phased array transducers are the most commonly used
volumetric transducers and their operation is the simplest in regards to volumetric imaging.
Moreover, beamforming algorithmic schemes can be straightforward when applied in
systems that use 2D phased array transducers. The general design suggests the transducers
to be integrated in a belt in an n*m array configuration as shown in Figure 4-2. In particular
in our case, we have n=m=2 transducers, as was depicted in Figure 4-3. One transducer
will be triggered at a time, in a round robin fashion. In other words, the raw data (log-
compressed, envelop-detected scan lines) for the corresponding FOV of each transducer
79
will be produced separately. By doing that, the system complexity is kept at the lowest
possible level.
.
.
.
.
.
.
.
.
.
. . .
. . .
. . .
m
n
x-axis
y-axis
z-axis
Figure 4-2: General configuration of the transducers (left)-
overlapped region between 2 consecutive transducers (right)
So far, the main difference, between the proposed system and a conventional with a
single stand-alone transducer, is the number of transducers being used. The hardware
modifications required for the aforementioned transducers configuration will be described
later in this chapter.
80
T3 T1
T4 T3
O (0,0,0)
.
x-axis
y-axis
1.44 cm
1.44
cm
0.66 cm
0.66
cm
Figure 4-3: Transducers configuration for the proposed system
The design of the transducers was driven by the need to optimize the existing trade-
off between a) system complexity and b) depth of penetration. In particular, in order to
reduce the complexity, 2D array transducers were used, composed of 16x16 = 256 elements
each. Although 2D array transducers of few elements are not widely used in current
systems, their potential and capabilities have been demonstrated. From the other side, in
order to increase the depth of penetration, the operating frequency was chosen to be 3 MHz.
Besides the previous two requirements, the minimum FOV had to be at least 45o
in both
azimuthal and elevation directions. Given the number of elements and the operating
frequency, a parametric study was performed regarding the dimensions of the transducer.
All specifications, i.e., geometrical and functional parameters of the transducer used, are
presented in Table 4-1.
81
Table 4-1: Geometrical and functional parameters of the proposed transducer
Parameter Actual Value
Operating Frequency 3 MHz
Sampling Frequency 100 MHz
Speed of Sound 1540 m/s
Excitation cycles 3 cycles
Total Number of elements 256
Number of elements in the x-direction 16
Number of elements in the y-direction 16
Height of element 0.9 mm
Width of element 0.9 mm
Kerf in the x-direction 50 μm
Kerf in the x-direction 50 μm
Total Width 1.44 cm
Total Height 1.44 cm
The transducer’s design was achieved using FIELD II [40], [41], a publicly available
software that runs under the environment of MATLAB. In order to test the performance of
the transducer, the beam pattern and the point spread function (PSF) were calculated. The
frequency profile of the excitation signal is given in Figure 4-4. In
Table 4-2, certain performance characteristics such as the bandwidth and full width half
maximum (FWHM) are presented.
82
Figure 4-4: Obtained frequency behavior of excitation signal
Table 4-2: Performance characteristics of the proposed transducer
Parameter Actual Value
Axial Resolution 1.1 mm
Elevation Resolution 8 mm
Azimuthal Resolution 8 mm
FWHM 8 mm
Bandwidth (@ -6db) 2 MHz
Simulations of pulse echo beam pattern show a grating lobe at around 22db lower that
the main lobe at ± 60o
(Figure 4-5, a). Thus, the third requirement regarding the desired
83
FOV is met. The PSF for this particular transducer, for different depths is also depicted in
Figure 4-5, b.
Figure 4-5: a) Beam pattern; b) Point spread function in depth starting from 15mm to
95mm with step 10mm
The calculated results show that the proposed transducer can be successfully used in a
real system, especially in the case of low-cost POC applications. The axial resolution of
the system depends on the excitation signal and was calculated to be 1.1 mm, while the
lateral resolution around 6mm. Although the lateral resolution seems to be quite high, it is
considered adequate for general purposes B-mode imaging of the abdomen. Lastly, it is
worth explaining the form of PSF. It is obvious that although the focus point was set at
90mm, no focusing is observed. Focusing could have been possible for depths less than
80mm but it would have resulted in a divergent beam for higher depths. By maintaining
the focal point at this depth, it is ensured that the beam width will be almost the same for
any given depth.
84
4.2.4 Main Board Deconstruction
In this section the architecture of the acquisition board is described. The acquisition
board is designed to consist of a single board (main board, MB) and be connected to a
personal computer (PC) using appropriate software. The MB is responsible for the analog
front-end while at the same time hosts the appropriate devices for digital front-end and
signal processing processes. Back-end processes are performed in the PC.
Figure 4-6 illustrates the basic architecture of the system. A number of 16 independent
channels for transmission and reception of the waveforms was used. The use of only 16
channels reduces the complexity of the system, the cost and the interconnection
requirements while the same time allows for the implementation to be feasible on a single
chip. In addition, 16 channels can provide an adequate image quality, as we demonstrated
in the previous section, especially for low – cost, portable solutions.
The system is designed to operate as follows. Initially, the transmitter, Tx generates the
16 excitation waveforms that are driven to amplifiers. Then, through two programmable
multiplexers the waveforms are mapped to the desired elements of the desired transducer.
The back-scattered signals are recorded either by the same group of elements or by a
different one, depending on the beamforming scheme to be adopted. We have selected to
use 1 MUX of 1024 to 256 (256 Quad channel switches, MAX312L) and 1 MUX of 256
to 16 (64 Quad channel switches, MAX312L) channels. The received signals go through
the typical conditioning procedures such as amplification, time-gain compensation and
filtering, before the analog to digital conversion. All these procedures (AFE procedures for
reception), are performed by 2 fully integrated, 8 channel US AFE (AFE5808AZCF) from
85
Texas Instruments (TI). The ADCs of the US AFE operate at 65 Msps, with the option of
12 or 14 bit resolution, according to the LVDS standard.
LNA
VGA
ADC
Low
Pass
Filter
Transmitter
DAC
Low
Pass
Filter
FPGA
MUX MUX
T4
T3
T2
T1
Mux Control Unit
16
16 16
16 16
16
16
16
16
16
16
16
16
16
256
256
256
256
256
256
256
256
256
256
16
16
16
16
Power Supply
And
Management
Transmit
Beamforming
Receive
Beamforming
Beamform
er Control
Unit
Digital Front - End
Display
PC
Memory
Filter
Decimate
Envelop
Detection
Log
Compressi
on
Scan
Conversion
Proposed
Methodology
Feature
Extraction
SDRAM
Digital Part
Analog Part
Analog Front - End
Figure 4-6: Description of proposed ultrasound system
Continuing, the digital signals are fed to the Xilinx Spartan 6 150T FPGA and to the
Rx beamformer. Due to the fact that only 16 channels and we are not interested in Doppler
imaging at this point, it is reasonable the mid-end processes, such as decimation, envelop
detection and log-compression to be performed by the FPGA. This significantly reduces
the size, complexity and cost of the system, since there is no need for a new, extra hardware
86
component to be used, such as a DSP to implement the aforementioned steps. Finally, the
beamformed log-compressed data are transferred to the PC where are stored for off line
processing, or go through the back-end image processing. The described procedure is
repeated until the volumetric data of each one of the transducers has been generated.
4.2.4.1 Pulse Generation and Beamforming
As mentioned above, FPGA is responsible for generating the excitation waveforms.
The appropriate excitation waveforms are stored in the form of a bitstream in the dedicated
SDRAM along with any data possibly required (time delays among channels, number of
scan lines, apodization, etc.) from the beamforming scheme currently used. During
transmission, the FPGA needs to retrieve the excitation waveform and the corresponding
data that are related to each channel and drive the signals to the appropriate LVDS. These
signals are fed to the DAC before being amplified in the AFE Tx.
During reception, FPGA is responsible to perform coherent summation of the 16
received signals in order to produce the beamformed data for each scan line. Analogously,
the data for the steer, focusing and apodization are stored in the SDRAM.
4.2.4.2 Synchronization and System Interfaces
The synchronization between the FPGA and the analog front-end, especially with the
programmable multiplexers is performed through SPI. Therefore, switchers in the AFE are
controlled by SPI, to choose the appropriate group of active elements each time. The data
exchange between FPGA and the AFE is performed using the high-speed LVDS. The log
compressed beamformed data are transferred to the PC through a PCIe standard. In Figure
4-7 the selected interfaces for the proposed ultrasound system are illustrated.
87
T4
T3
T2 T1 AFE Tx
AFE Rx
Beamformer
Front - End
Back-End
SDRAM
LVDS
LVDS
LVDS
LVDS
PCIe
PCIe
Analog
Analog
SPI
SPI
Analog
Analog
Digital
Digital
Peripheral
Peripheral
Figure 4-7: Interfaces for the Proposed System
4.2.5 PC: Back-end Processes
As soon as all scan lines from all transducers have been recorded, they are then
transferred to a PC where the back-end processes are performed. Typical back-end
processes include scan conversion, in order to produce the readable B-mode image and
further image processing techniques for image enhancement. In our case, the methodology
developed fuses the volumetric images acquired from the four transducers and synthesizes
the final outcome. The methodology merges widely used methods, like frequency
compounding, spatial compounding and super-resolution techniques, to a single one, in
order to produce a speckle-free high resolution image.
The first process of the back-end is the scan conversion. A 3D scan conversion
algorithm was implemented, in order to reconstruct the volumetric image from the acquired
beamformed log-compressed scan lines of each transducer. The algorithm is an expansion
of the 2D scan conversion algorithm developed and provided by Jensen. Continuing, the
88
proposed methodology is an expansion of previous work regarding 2D images given in
[39]. Firstly, it exploits the benefits of classical frequency compounding where typical
portable 3D ultrasound system is extremely difficult to implement due to time restrictions.
As mentioned above, the study focuses on structural B-mode imaging and the real-time
requirement can be omitted for now, assuming that there are quite accurate algorithms for
motion estimation for breathing and motion cancellation. Having this in mind, the system
can be configured to produce different images form each sensor using different excitation
frequencies. The second part of the proposed methodology widely exploits the benefits of
super-resolution technique. A 3D SR algorithm that receives as an input the compounded
images from the four transducers and produces the final wide view image was developed.
The maximum gain of the proposed methodology can be achieved in places where the
overlap of the FOV of the transducers in maximized. This is achieved for deeper regions.
The success of this methodology is that the loss of lateral resolution for deeper regions can
be compensated by the gain achieved from overlapped regions.
4.3 Conclusions
One disadvantage of such a system is that it appears to be time consuming. Given the
previous description the actual time required to monitor the whole region of interest is 4
times the time required to capture the 3D representation of a single one transducer. But,
given its purpose and the fact that such a system can be used for typical B-Mode imaging
this is not considered as a serious problem that affects scanning effectiveness. At this point
we would like to mention that such an approach is applicable for typical B – Mode imaging
where there are no organs that present rapid changes such as heart. One of the main
89
advantages with this configuration is that the sonographer is not responsible for scanning
the region. The 3D region will be automatically created after few seconds. Thus, the
requirement of real-time (30 frames per second), which is one of the main restrictions for
the 3D ultrasound imaging, may be omitted in this case. The second great advantage is the
image quality improvement that can be achieved when using the information from multiple
sensors. In the next chapter a general image processing methodology for image
enhancement is presented based on the proposed configuration of multiple transducers. The
methodology is firstly developed and tested for the case of 2D images in order to verify its
effectiveness and also guide the selections to be made for the final 3D image processing
methodology presented in Chapter 7.
90
5
PROPOSED IMAGE
ENHANCEMNET METHODOLOGY
5.1 Introduction
In the current chapter, some of the most effective techniques that are widely adopted
for ultrasound image enhancement are discussed. Different methodologies that are applied
in current systems will be described, along with various fidelity criteria that are used in
order to measure and estimate the performance of the image processing techniques.
Finally, a new methodology for image enhancement based on the proposed ultrasound
system presented in the previous chapter, will be presented and explained in details. This
methodology combines signal and image processing techniques with the ultimate objective
to improve the quality of ultrasound images. The methodology is proposed having in mind
the following two objectives; a) to perform image de-speckling/de-noising and b) to result
in resolution improvement.
91
5.2 Background in Ultrasound Image Processing
Ultrasound image processing embraces methods such as filtering for image de-noising,
image registration and image segmentation for wide variety of applications (malignant
region extraction). The current study focuses on different filtering techniques that are
widely used in ultrasound applications in order to get rid of the speckle noise, described
later in this chapter. Image registration and segmentation techniques as well as the notion
of Super-Resolution (SR) technique are being discussed.
SR algorithms that are used in camera technology is a technique where multiple Low
Resolution (LR) images are combined to produce a High Resolution (HR) image [96] of
the same scene. There are also references of SR techniques used in ultrasound images. SR,
is considered of significant importance for our case due to the fact that the proposed system
is capable of capturing multiple images from different sensors. Thus, for the overlapped
regions the low resolution images can be combined and create a higher resolution images.
The proposed algorithm is based – on a new ultrasound de – speckling scheme, combined
with a SR method in order to produce a de-noised higher resolution image. Herein, the
required background in order for the steps and reasoning behind the proposed methodology
to be followed, are presented.
5.2.1. Speckle Noise Reduction
In Chapter 3, speckle noise which is the primary type of noise in ultrasound images
was mentioned several times. In this chapter, deeper insights regarding noise in images and
in particular, speckle noise for ultrasound images are discussed. Firstly the definition of
92
speckle noise is given, then the way it affects ultrasound images is discussed and finally
the way it has been fronted so far is analyzed.
Noise in any signal in general, is considered to be an unwanted artifact that degrades
the quality of that signal. In images, noise can be manifested as random fluctuations of the
actual image’s intensity. Most of the times, noise is passed into images during signal
acquisition procedure. Thus, the electronic circuit of the imagery system under
consideration is the number-one factor responsible for noise artifacts. Errors may also
occur during image transmission. One very interesting thing about noise is that these
unwanted fluctuations in image’s intensity, usually present a specific pattern. Different
imagery systems create different artifacts (that is different patterns). Due to those patterns
we may have different types of noise. The most common ones are: Gaussian noise, salt and
pepper noise (impulse noise), Rayleigh noise, Poisson noise and so on.
Moreover, noise may degrade the quality of an image in different ways. These ways
may follow a specific noise model. Two are the most commonly used models that have
attracted the attention of the researchers throughout the years: The additive noise model
(Equation 5-1) in which noise of a specific type (specific pdf) is added in the desired noise-
free image and the multiplicative noise model (Equation 5-2) where the image has been
produced as the outcome of a multiplication between the noise and the original image.
)
,
(
)
,
(
)
,
( y
x
n
y
x
f
y
x
g 
 (5-1)
)
,
(
*
)
,
(
)
,
( y
x
n
y
x
f
y
x
g  (5-2)
One very interesting argument is that knowing the model noise and the type of it that
is present in an image we can select or design an appropriate filter in order to be effectively
93
applied for this particular application. It is true that different filters, either in the spatial or
in the frequency domain can deal with a specific types of noise. For instance, a median
filter can effectively remove salt and pepper noise from an image but on the other hand,
does not present similar behavior when applied for a Gaussian type of noise removal. In
this case, noise can be easier removed using an average filtering.
Herein, we study how speckle noise in ultrasound images can be modelled and removed
using different filtering methods. Speckle noise is a random granular pattern that is created
due to elementary scatterers inside a resolution cell. The resolution cell is defined by the
transducer properties. Depending on the number and the topology of scatterers inside the
resolution cell, the incident sound wave is reflected towards multiple directions with
different amplitudes and phases. The backscattered coherent echoes that are captured from
the transducer undergo a destructive or constructive interference randomly. This random
pattern defines the speckle noise, which is created during the acquisition of ultrasound
images and depends on the operating frequency used by the system (operating frequency
changes the relative topology of scatterers inside the resolution cell). Speckle noise can be
modelled as multiplicative type of noise. In [97], Arsenault and April showed that the
logarithmic transform of noisy image that suffers from speckle noise results in an
approximation of Gaussian additive noise.
))
,
(
log(
))
,
(
log(
))
,
(
log( y
x
n
y
x
f
y
x
g 
 (5-3)
)
,
(
)
,
(
)
,
( y
x
e
y
x
k
y
x
l 
 (5-4)
94
Thus, any common filter can be used to remove the undesired part of the signal. Still,
common filters may manage to remove the noise but have the tendency to blur the image
and loose particular critical information of the image such as edges.
Distribution models such as Rayleigh (if number of scatterers per resolution cell is
large), Rician and K – distribution (if number of scatterers per resolution cell is large) are
extensively used in order to describe speckle noise [98]. Different approaches that
effectively deal with speckle noise have been proposed in the literature [99], [100], [101]
and are usually categorized in compounding methods and in post processing methods.
Compounding methods either in the spatial [102], [103] or in the frequency domain are
based on averaging the information retrieved from multiple images or on applying split
spectrum techniques [100] to the original signal. Post processing methods usually apply
different types of filtering on the final ultrasound image. Lee, Frost, Kaun, and Weiner
filters are the most common ones. Beside those filters, wavelet, curvelet and contourlet
based filters have been implemented with great success [104], [105], [106]. Compounding
techniques may be more effective but result in reduced frame ratio and usually require
hardware modification and very fast and accurate registration schemes.
5.2.2. Fidelity Criteria
In order to assess the performance and the effectiveness of a de-noising algorithm and
to be able to compare them with other algorithms in the literature various performance
measures have been used. The most commonly used measures are presented here. Signal
to noise ratio (SNR) is defined as the power ratio between the signal and the unwanted
noise and for images is given with Equation 5-5. In order to compare the original image
95
with the filtered image mean square error (MSE) is defined as the average of the squares
of the errors and depicted in Equation 5-6. Peak signal to noise ratio (PSNR) [107] like is
SNR is the ratio between the maximum possible power of signal and the power of noise.
In our case maximum power of signal is 255 (for grayscale image) and the noise is the error
introduced by the filtering (MSE). Another important measure is the structural similarity
measure (SSIM). SSMI measure most of the times is more consistent with human
perception about the quality of the image than PSNR or MSE. The signal-to-mean square
error (SMSE) given in [108], is used instead of signal to noise ratio (SNR) for
multiplicative type of noise. Two other measures are used as an attempt to incorporate edge
preservation after the filtering. That is the coefficient correlation (ρ) and the edge
preservation coefficient (β) that are given in [109]. Apart from the performance measure it
is critical to visually evaluate the outcome of every method.
The formulas for all these measures are presented below:
 Signal to Noise Ratio
))
,
(
(
))
,
(
(
))
,
(
(
y
x
I
s
y
x
I
y
x
I
SNR

 (5-5)
 Mean Square Error








n
y
y
comp
m
x
x
comp y
x
I
y
x
I
mn
y
x
I
y
x
I
MSE
1
2
1
))
,
(
)
,
(
(
1
))
,
(
),
,
(
( (5-6)
 Structural Similarity Measure
)
)(
(
)
2
)(
2
(
))
,
(
)
,
(
(
2
2
2
1
2
2
,
1
c
c
c
c
y
x
I
y
x
I
SSIM
comp
comp
comp
comp
I
I
I
I
I
I
I
I
comp















(5-7)
96
 Signal to mean square error (SMSE) [108]
  

















K
i
i
i
K
i
i
F
F
F
SMSE
1
2
1
2
10
ˆ
log
10 (5-8)
 Coefficient of correlation (ρ) [109]
 
   
f
f
f
f
f
f
f
f
f
f
f
f
ˆ
ˆ
,
ˆ
ˆ
,
ˆ
ˆ
,











 (5-9a)
where 𝑓̅, is the mean value of original, 𝑓
̂̅is the mean value of the de-noised image
and Γ is:
     
 


 ROI
j
i
j
i
f
j
i
f
f
f , 2
1
2
1 ,
,
, (5-9b)
 Edge preservation measure (β) [109]
𝛽 =
Γ(Δf−Δ𝑓
̅̅̅̅, Δ𝑓
̂ −Δ𝑓
̂
̅̅̅̅)
√Γ(Δf−Δ𝑓
̅̅̅̅,Δf−Δ𝑓
̅̅̅̅)∗Γ(Δ𝑓
̂ −Δ𝑓
̂
̅̅̅̅, Δ𝑓
̂ −Δ𝑓
̂
̅̅̅̅)
(5-10)
In the above, Δf is a high pass version of f obtained by 3x3-pixel standard
approximation of Laplacian of Gaussian (LoG).
5.3 Super-Resolution (SR) Imaging in Ultrasound
The inherent problem of general purpose probes that are composed of phased array
transducers is that image resolution is degrading as beam propagates in deeper tissues. That
is either due to conical like region scanning or due to beam profile of transducer utilized.
97
A simple way to improve lateral resolution is to increase the number of scan lines inside
the scanning region, resulting in decreasing frame ratio. In addition image resolution
depends on the acoustic frequency utilized. The higher the frequency the better the
resolution but on the other hand, the higher the frequency the less the penetration depth.
Thus, arbitrary increase the frequency can result in the undesired effect of small penetration
depth.
In this section, the potentials of applying a highly promising and relatively new post
processing technique in order to improve ultrasound image resolution are examined. SR is
a very interesting technique recently used in camera technology, in order to extract more
information about a specific scene recorded by multiple cameras [96]. With SR, high
resolution (HR) images can be produced by drilling information from numerous low
resolution (LR) images. Super-resolution technique seems to be very promising for low
quality ultrasound images [110], [111], [112] especially taking into account the numerous
overlapped regions created using the proposed ultrasound architectural scheme. As
mentioned earlier the lateral resolution worsens in respect to penetration depth. That is due
to a) phased array transducers where the distance between two consecutive scan lines
increases for higher penetration depths and b) the divergent form of the beam profile from
the focal point and after.
One very interesting observation based on the proposed architectural scheme and the
utilization of multiple phased array transducers, is illustrated in Figure 5-1. The
configuration of the transducers creates regions of overlaps. These regions are monitored
by more than one transducers. As a consequence, more than one image can be generated
98
for the same scenes (the basis of SR technique). For higher penetration depths, the
overlapped regions get bigger while there is possibility that more sensors/transducers
monitor the same region providing even more images for that particular scene. Thus, there
is a point after which certain regions are monitored from all the transducers of the system.
In these regions the maximum gain from SR technique can be exploited. Thus, the intention
of the proposed architecture and the proposed image processing methodology is to try to
compensate the loss of resolution for deeper tissues using the redundant information of
those overlapped regions. Herein lies the basis of the methodology developed for the 2D
presented in Chapter 6, case, for 3D images in Chapter 7.
Figure 5-1: Overlapping region of two adjacent transducers
Another observation derived from Figure 5-1, is that inside the overlapped regions the
density of measurements per unit area is increased. As a consequence a better estimation
of the missing value during the interpolation of scan conversion can be achieved.
99
The first and most important step of super-resolution algorithm, after having the LR
images, is the registration process. A very accurate registration algorithm is the key in order
to maximize the beneficial information that can be extracted from multiple images. A sub-
pixel image registration algorithm is actually required in order to exploit the SR technique.
The next step is the reconstruction of the High Resolution (mapping on the HR grid) image
or the interpolation process. Finally, the last step take cares of any blurring or noise
problems encountered by applying a deconvolution method.
5.4 New Ultrasound Image Enhancement Methodology
In this section, a new methodology for ultrasound image enhancement is proposed and
explained in details. This methodology is driven and highly dependent on the architectural
scheme described in the previous chapter, thus it requires multiple images of the same
scene. This can be achieved either by a stand-alone hand-held system that is manually
forced to monitor the same scene from different angles, or by using multiple transducers at
predefined locations to monitor the same scene (like the proposed system). The
methodology is considered to be a general purpose methodology in the essence that can be
applied for both 2D and 3D ultrasound images regardless the number and the configuration
of the transducers. In this section the basic steps of the methodology are described and the
reason why these steps can be effectively utilized for the proposed case is justified. The
results, when applied in both 2D and 3D ultrasound data are presented in Chapters 6 and 7
respectively. The methodology is developed and applied for the case of 2D images in order
to test its effectiveness and at the same time to guide our choices of certain parameters for
the final 3D methodology designed especially for the 3D system presented in Chapter 4.
100
The methodology deals with two of the most important limitations of current systems,
enlisted earlier; a) speckle noise and b) low resolution images. Firstly, to deal with speckle
noise a combination of frequency and spatial compounding is performed. As it was
described earlier in this chapter frequency and spatial compounding are very effective
techniques but are extremely time consuming. Both of them are based on the averaging of
multiple images of the same scene. Given the advancements on power capabilities of
computer and in the field of digital electronics both techniques are widely applied for real-
time 2D image applications. For real-time 3D applications this is almost impossible,
especially in the case of low-cost devices. Due to the fact that real-time monitoring is not
required for the proposed system, both spatial and frequency compounding seem extremely
attractive. Secondly, to deal with the low image resolution problem, a Super-resolution
algorithm was performed. The suitability and applicability of a super-resolution algorithm
the proposed architecture or for any architecture that uses multiple transducers was
explained in the previous section.
At this point it’s worth highlighting the fact that problems such as grating lobe’s signal
or low and high attenuation artifacts are not taken under consideration. Although we firmly
believe that can be effectively alleviated with the proposed architecture if certain
modifications in the methodology. The general block diagram of the methodology is
illustrated in Figure 5-2 and all the steps are described below.
101
Split Spectrum
Processing
Sub-pixel
Registration
Input Noisy
US LR Images
Image
Compounding
Super
Resolution
Denoised HR
US Image
Figure 5-2: Proposed methodology for high quality high resolution ultrasound images
The generic methodology to be implemented (Figure 5-2) is described here and all the steps
are explained one by one:
 Input LR Images: Assuming that n is the number of transducers of the system and
assuming that each one of them can produce k images acquired with different
frequencies around the central frequency. Thus, every sensor will record a certain
area and will acquire k images of this area. In total, T = n*m images will be
produced. The key characteristic here is that there will be a significant amount of
overlap especially from images captured by adjacent transducers.
 Split Spectrum Processing: One image from the set of k images (n in total) produced
from each transducer will go through a mild split spectrum processing. This is not
the actual de – speckling method to be used. As it was mentioned in this chapter
ultrasound images suffer from speckle noise that degrades a lot the performance of
image processing techniques such as image registration and image segmentation.
The degradation in the performance can be considered either in terms of
102
computational complexity or in terms of accuracy and effectiveness of the
algorithm. Thus, this step is performed as a quick preprocessing step before the
image registration take place. It is obvious that this step is quite crucial, due to the
fact that spatial compounding and especially super-resolution algorithms require
very accurate image registration processes in order to produce the desired outcome.
Otherwise, there is the possibility, the opposite effect to be produced.
 Sub-pixel image registration: It is obvious that image registration is one of the most
important steps of the methodology. A very accurate and highly effective image
registration algorithm would be extremely helpful at this stage. Image registration
is needed in order the images captured from different transducers to be mapped into
the same coordinate system and be able to be combined. For both compounding
methods and SR techniques, image registration is extremely essential. Especially
for the case of SR, sub-pixel image registration is required. For the reason explained
above the SSP technique was applied first one n images (one from each senor) Thus,
image registration is performed using only these n images that have been de-noised
through the SSP.
 Image Compounding: In this step spatial or frequency averaging can be performed.
Knowing the transformation parameters among the sensor from the previous step,
all the images can be forced to lie in the same coordinate system. Then image
averaging in the images captured from the same sensor (m images) with different
frequencies is applied (frequency compounding).
103
 Super-resolution: In the final step, image super-resolution technique is applied in
the LR compounded images obtained in the previous step (in the obtained n de-
noised images). SR is applied for the overlapped regions only and one single HR
de-noised image can be obtained. The steps of a classical SR algorithm were
mentioned in section 5.3. Due to the fact that image registration has been performed
in step 3 of the proposed methodology, only the remaining steps for the SR method
(interpolation and de-blurring) are performed here.
Herein a generic form of the methodology was described. It is applicable for both 2D
ultrasound images as well as for 3D ones.
5.5 Conclusions
In Chapter 5, a brief introduction to ultrasound imaging was presented. Terms such as
noise, speckle noise, de-specking, frequency and spatial compounding were discussed. In
addition, techniques such as image registration, image segmentation and super-resolution
that are used in ultrasound image processing were presented. The ultimate goal was to link
these notions and techniques with the generic proposed methodology for ultrasound image
enhancement presented above. In Chapter 6 a case study for 2D images is conducted and
the methodology is developed for 2D images. The findings of the case study performed for
2D images are used to guide certain selections (form of SSP, which SR algorithm, etc.) for
the final 3D image enhancement methodology.
104
6
PROPOSED METHODOLOGY FOR
2D ULTRASOUND IMAGES
6.1 Introduction
In this chapter, the proposed methodology that was previously introduced (section 5.4),
is implemented in the case of 2D simulated ultrasound images. This step is very critical for
the current dissertation, since the validity and effectiveness of the proposed image
enhancement scheme for a typical B-mode ultrasound image, has to be first tested before
it gets implemented for 3D images. Therefore, instead of using 3D volumetric
representations directly, 2D images were first created using 1D phased array transducers.
The obtained results are also presented in this chapter together with a comparative study
that was conducted between the proposed algorithm for image enhancement and other de-
noising and super-resolution techniques. The obtained results are very promising for the
next step and the implementation for 3D images, showing that the proposed scheme
outperforms classical image de-noising algorithms, with respect to various performance
105
measures. In fact, the final de-noised HR image appears to have significantly increased
CNR and SNR compared to a single image obtained with a single transducer. For the
purposes of this chapter, the publicly available Field II toolbox [113],[114] under
MATLAB 2012Rb environment was extensively used. Field II use was critical, in order to
create the simulated data required in order to apply our methodology.
6.2 Experimental Set Up
As mentioned earlier, the Field II simulation toolbox was used, mainly due to the fact
that it is publicly available and widely used by the research community for ultrasound
transducer design and simulations. In particular, Field II and MATLAB give researchers
the capability to a) design completely new ultrasonic transducers, b) produce artificial
phantoms of different geometries that represent specific parts of the human body, and
finally c) process the raw A-lines (or backscattered echoes) in their preference, in order to
produce the B-mode image. Moreover, raw A-line data give researchers the flexibility and
freedom to apply new beamforming schemes, as well as signal processing algorithms for
image enhancement.
Below the experimental set up that was used in order to apply and test the proposed
methodology is unwrapped. The analysis focuses on the description of the following three
components:
a) The transducers used in this paradigm (type and number) (section 6.2.1),
b) The reference phantom that was used to represent possible cysts inside the
human body (section 6.2.2)
106
c) The procedure followed while applying the generic methodology for 2D images
(section 6.2.3).
Finally, the implementation results are discussed in section 6.2.4.
6.2.1 Transducers Configuration
Given the objective of this chapter which is not to design a totally new transducer that
provides advanced characteristics over existing ones, but to test and validate the
performance of a newly proposed image enhancement algorithm, typical 1D phased array
transducers were used. The transducers were designed by the Field II team and are given
in one of the examples in their official webpage. The use of 1D array transducers was
adopted in order to produce 2D ultrasound image data instead of 3D and speed up the
process. Below, the configuration and the number of the ultrasound transducers that were
used for the current experiment are presented.
Three 1D phased arrays transducers were used with identical geometrical
characteristics. For the needs of the current paradigm the transducers were placed in a row
(Figure 6-1), perfectly aligned in order to produce the desired overlapped regions. The
transducers were excited with different frequencies around the resonant frequency, with
the intention to apply the frequency compounding method on the produced B-mode images.
107
... ...
...
Transducer 1 Transducer 2 Transducer 3
Figure 6-1: 1D phased array transducer’s configuration for the experimental set up
The geometrical characteristics for all transducers were identical and are summarized
in the Table 6-1.
Table 6-1: Characteristics of the utilized transducers
Transducers 1-2-3
Type 1D phased array
fo (MHz) 5
f (MHz) 4.5, 4.75,5,5.25,5.5
Number of elements 128
Width of elements(mm) 0.154
Kerf (mm) 0.0308
6.2.2 Cyst Phantom
After selecting the number and configuration of the transducers to be used, the next
step is to define the structure of the artificial phantom. The simple cyst phantom that was
finally used, is illustrated in Figure 6-2. As shown, the phantom consists of 10 blob-like
108
structures, nine of which represent cysts and the other one a high reflectance circular
structure. The position of each cyst and their dimensions were predefined and carefully
selected in such a way so that the respective cysts lie inside the FOV of all three
transducers, while some of them manifest diameter not larger than the lateral resolution of
the system. After selecting the aforementioned transducers configuration and cyst
phantom, the proposed methodology was implemented in MATLAB for 2D images, using
the simulation capabilities of FIELD II. Just to mention here, that knowing the exact
structure and position of the cysts, the CNR can be easily calculated. CNR is considered
one of the most significant measures in order to quantify the improvement in the image
quality.
109
Figure 6-2: Artificial phantom utilized
6.2.3 Procedure
FIELD II produced the raw A-line backscattered signals which were in turn used to
create the B-mode ultrasound images. In order to perform the SSP technique, which is part
of the proposed methodology, existing code -signal processing algorithms (envelop
110
detection, log compression and 2D scan conversion) provided and already implemented in
MATLAB by the FIELD II team - was modified accordingly.
The procedure that was followed for this experimental set up was similar to the one
presented in section 5.4 with the appropriate modifications, and can be described in the
following steps:
1. Each transducer provides 5 images of the same scene. In total 3x5=15 images.
2. Light SSP on one of the 5 images produced by each sensor.
3. Perform sub-pixel image registration to find the transformation (known in the
simulation) using the SSP processed images.
4. Perform frequency compounding using the 5 original images of each sensor. Result:
three compounded images.
5. In the fifth step, one of the following techniques are implemented and tested, in
order to study their effect on the final image:
a) Perform spatial compounding and monitor and compare the result of only
image de-noising.
b) Align the images and perform spatial compounding to the compounded
images form transducer 1 and 2 and then to transducer 2 and 3. Then apply
super-resolution technique to the two compounded images of the previous
stage. Result: Final HR de-noised image.
c) Align the images and perform super-resolution technique to the three
compounded images of the previous stage. Result: Final HR de-noised image.
111
6.2.4 Results
In this section the results of the applied algorithm are presented and discussed. The
section is divided in two parts. The first part (6.2.4.1) presents the results of applying image
compounding methods only (steps 1 to 5.a mentioned above), whereas the second (6.2.4.2)
shows the results of adding super-resolution techniques to the compounding methods (steps
1 to 4 and 5.b, 5.c mentioned above). Acting in this fashion, the effect that different steps
have on the final image can be identified and analyzed.
6.2.4.1 Results of De-speckled Image
In Chapter 5, various compounding methodology schemes were discussed that are
widely applicable nowadays. Moreover, the fact that simple averaging techniques seem to
perform better than image processing schemes or signal processing like SSP (although may
require hardware modification) was highlighted. Due to the fact that the proposed
methodology is entirely based on a novel multi-transducer scheme, such methods appear
to be very appealing. Here the results of the first version of the procedure are presented and
analyzed.
As mentioned earlier, in step 4 of the procedure, frequency compounding (averaging)
to all 5 images of different frequencies produced by each transducer, was performed. To
the three newly generated images, named fr_comp1, fr_comp2 and fr_comp3, spatial
compounding was performed. Then, knowing the registration parameter from step 3, the
final de-noised image FrComp/SpComp was produced. A visual representation of the
above, is given in Figure 6-3.
112
Frequency
Compounding
Frequency
Compounding
Frequency
Compounding
Spatial Compounding
Noisy Images
De – noised
Images
De – noised
image
fr_comp1 fr_comp2 fr_comp3
FrComp/SpComp
Figure 6-3: Version 1a) Image de-noising using frequency and spatial compounding
113
After performing the procedure mentioned shown in Figure 6-3, we went one step
further and reversed steps 5.a and 4 (
Figure 6-4). That is, firstly spatial compounding was performed, registering all the
images produced by different transducers. The five resulted images were named sp_comp1,
sp_comp2, sp_comp3, sp_comp4 and sp_comp5, where the index from 1 to 5 represents
the different frequencies applied from 4.5 to 5.5 MHz with step 0.25 MHz, as is also shown
in Table 6-1. Then frequency compounding to those 5 images was applied. The final de-
noised image was named SpComp/ FrComp.
The assessment of the performance of the described procedure was done by calculating
all the fidelity criteria presented in section 5.2.2. That is, CNR, MSE, RMSE, SMSE, SNR,
PSNR, CCRO, BITA, SSIM. Besides this, 5 additional software-based de-speckling
schemes were implemented and their values of the performance measures were compared
to the ones produced by the proposed algorithm. The implemented filters were the median
filter, Wiener filter, Kaun filter, Frost Filter and the anisotropic diffusion filter. The
comparative Table 6-2 with all the implemented schemes and the corresponding values is
given below.
114
Frequency Compounding
SSP
Spatial Compounding Registration
Noisy Images
De – noised
Images
De – noised
image
sp_comp1
sp_comp2
sp_comp5
…
SpComp/ FrComp
Figure 6-4: Version 1b) Image de-noising using spatial and frequency compounding
115
Table 6-2: Performance measures for different image de-noising methodologies
Scheme/Filter CNR MSE RMSE SMSE SNR PSNR CCRO BITA SSIM
Original 0.1472 n/a n/a n/a 12.815 n/a n/a n/a n/a
FrComp/SpComp 0.2298 0.0093 0.096 10.358 19.079 68.434 0.7709 0.5301 0.9996
SpComp / FrComp 0.2202 0.0094 0.097 10.311 19.384 68.373 0.7705 0.5216 0.9996
Median 0.1309 0.0100 0.100 9.5865 17.882 68.128 0.7772 0.2226 0.9998
Wiener 0.0992 0.0070 0.084 10.969 18.292 69.626 0.8333 0.6054 0.9998
Kaun Filter 0.1227 0.0069 0.083 11.262 17.041 69.714 0.8352 0.3150 0.9998
Frost Filter 0.1147 0.0086 0.093 10.152 17.249 68.757 0.8247 0.0449 0.9998
Anisotropic Filter 0.0741 0.0092 0.096 9.6499 19.526 68.447 0.7969 0.3681 0.9997
From Table 6-2, three very important observations can be derived. The first one is that
both proposed schemes, i.e., FrComp/SpComp and SpComp/FrComp, present almost
the same values for all the validated fidelity criteria. Thus, this provides us with the
flexibility to choose either scheme at our convenience. For instance, it is better, in terms of
speed, to first perform the averaging (for the frequency compounding) and then one
registration to the 3 compounded images (fr_comp1, fr_comp2 and fr_comp3). The second
observation is that only the proposed methodology presents increased contrast ratio
compared to the others. That is of great importance considering that one inherent problem
of ultrasound imaging is the low contrast ratio. Finally, we may observe the highly
increased signal to noise ratio. In fact, the SNR of the proposed methodology is one of
highest among all tested schemes.
The above analysis and testing safely concludes to the general statement that the
compounding schemes perform the expected way.
116
In Figure 6-5 below, a summary of the results is given.
Figure 6-5: Comparison of images produced, given the described phantom, after
implementation of different de-noising schemes
In Figure 6-6, the images produced after implementation of FrComp/SpComp and
SpComp/FrComp schemes are only depicted together with the original one. As shown, in
the original B-mode image someone is unable to distinguish small structures that have
dimensions near the lateral resolution of the transducer. Furthermore, these structures are
117
not very well delineated. Finally, speckle noise in the original B-mode image is apparent.
Regarding the de-speckled images using common filters, it is obvious that the speckle noise
is reduced, which is also why all of them present high SNR compared to the original, but
is clear that some of the structures have been completely vanished. In some cases, like the
anisotropic diffusion filter, over-smoothing (related to the highest SNR on the table) can
be observed. Over-smoothing is most of the times undesired, especially in medical images
and ultrasound imaging that speckle is also related to biological tissue properties.
Figure 6-6: Obtained results using a stand-alone transducer VS the proposed
methodologies FrComp/SpComp & SpComp/FrComp
Clearly, the most desirable results have been produced by the proposed de-specking
scheme. Relatively speaking, although the scheme presents very high SNR no blurring is
observed. More importantly, hidden structures have now revealed and in addition most of
118
the cysts are correctly delineated as perfect circles. In Figure 6-7, a graphical representation
of the cysts that have been revealed using the compounding schemes, is illustrated.
Someone may claim that the resolution has already been improved. Those first results are
very promising, if we consider the fact that, to this point, only the results of half of the
proposed methodology have been presented. The results of the whole methodology and the
incorporation of the SR scheme are presented in the next section.
Original Comp/Reg Reg/Comp
Figure 6-7: Graphical representation of obtained results using a stand-alone
transducer VS the proposed methodologies FrComp/SpComp & SpComp/FrComp
6.2.4.2 Results of High-Resolution De-speckled Image
Although there has been few attempts in the literature to incorporate super-resolution
schemes to an ultrasound machine, most of those attempts target to the exploitation of
119
super-resolution during the beamforming procedure [93]. This is related to the increased
computational time and hardware complexity required to form the final SR image.
The current work intends to take advantage of the multiple sensors of the system and
perform super-resolution on the multiple low-resolution B-mode images, already produced
by the sensors. In that way it avoids to deteriorate the hardware complexity of the system,
whereas the SR technique can be applied as a post-processing method. In section 6.2.3, it
was mentioned that 2 different schemes were to be implemented.
Firstly, we implemented step 5.b and performed spatial compounding to the fr_comp1
and fr_comp2 as well as to fr_comp3 and fr_comp3, producing the images fr_comp_sp12
and fr_comp_sp23, respectively. Then super-resolution was applied to images
fr_comp_sp12 and fr_comp_sp23. The final image was labeled SR2.
In the second scheme described in step 5.c, the super-resolution algorithm was
implemented to the three compounded images fr_comp1, fr_comp2 and fr_comp3. This
case is illustrated in Figure 6-8. The final image developed was labeled SR3. The CNR and
the SNR for both schemes are presented in Table 6-3 and both B-mode images are given
in Figure 6-9 along with the original one (in the case of a single transducer).
120
Frequency
Compounding
Frequency
Compounding
Frequency
Compounding
Super Resolution
Noisy Images
De – noised
Images
HR De-noised
Image
fr_comp1 fr_comp2 fr_comp3
SR3
Figure 6-8: Super resolution image HR de-noising scheme
121
Table 6-3: CNR and SNR for the utilized SR schemes
CNR SNR
Original 0.1472 12.8157
SR2 0.3050 17.8178
SR3 0.2885 18.3070
Figure 6-9: Obtained results using a stand-alone transducer VS the proposed
methodologies SR2 & SR3
Both Table 6-3 and Figure 6-9 indicate the significant improvement in the final image.
The SNR is significantly higher compared to the original case, while the CNR for both SR
schemes is higher than all previously examined de-speckling images.
In Figure 6-10, the two SR schemes are depicted, along with the two compounding
schemes discussed in the previous section.
122
Figure 6-10: De-speckling VS SR methodologies results
At this point it is important to highlight that an SR scheme can produce even better
results if it includes more than two or three images of the same scheme.
6.3 Supplementary Material
In the previous section the effectiveness of the proposed image enhancement
methodology was established. In fact, all the formerly implemented proposed schemes
presented an increase in the image quality. The betterment of image quality was not only
123
evident in the performance measures calculated but also obvious by simple visual
inspection of the produced images. During the development of the proposed methodology
different schemes and techniques were tested. In this section the results of two different
studies are briefly discussed; the first in regards to the technique of split spectrum
processing (SSP) and the other in regards to the super-resolution algorithms. Both studies
were conducted in order to select the parameters and techniques for the final 3D
methodology that will be presented in the following chapter.
6.3.1 Split Spectrum Processing (SSP)
The well-known technique of split spectrum processing was performed using different
values of width and separation among the Gaussian-like band pass filters. The total number
of filters used each time was defined by the effective bandwidth (3 MHz), the width of the
Gaussian filter and the separations between two consecutive filters. Certain performance
measures have been calculated and presented in Table 6-4 for all configurations under
consideration. The resulted compounded images are given in Figure 6-11.
Table 6-4: Split Spectrum Processing
Original (w =0.5, s =0.4) (w =0.75, s= 0.5) (w =1, s=0.75)
SNR 16.3952 26.5950 24.8419 23.6703
MSE n/a 0.0305 0.0211 0.0156
PSNR n/a 63.2851 64.8913 66.1988
SSIM n/a 0.9963 0.9976 0.9983
124
Figure 6-11: Obtained results for compounded images, left (w =0.5, s =0.4),
middle (w =0.75, s= 0.5) and right (w =1, s=0.75)
Due to the fact the SSP technique is a preprocessing step, used to alleviate the problem
of noise before applying image registration, it is desired to be quite fast. From Table 6-4
can be observed that all schemes present significant improvement in SNR with small
differences among them. This is the main reason why the third scheme was preferred. In
fact, the third scheme uses the least number of filters and is faster than the other two, while
at the same time presents significant increase in the SNR compared to the original image.
6.3.2 Super-resolution Schemes
A new super-resolution algorithm was implemented based on the shift among the
transducers, in the sub-pixel scale. The implemented algorithm was compared with the
most commonly used super-resolution algorithms in the literature. The comparison was
made by visual inspection. The obtained results show that the designed algorithm present
similar behavior with the Projection onto Projects Sets, (POCS) algorithm. The fact that
the proposed SR algorithm is a non-iterative one (fast), and that the obtained results are
similar to the POCS algorithm, demonstrates its correctness and justify its use as the basic
SR algorithm in the proposed methodology. A detailed description of the proposed
125
algorithm is given in Chapter 7, exclusively for 3D volumetric images. Below are the
results of the following SR algorithms; a) proposed, b) Papoulis and Gerchberg [115], c)
Projection onto Convex Sets d) Iterative Back Projection [116], e) Robust Super Resolution
[117], f) Normalized Convolution [118]. The presented images for the 5 super resolution
algorithms were produced using the publicly available GUI superresolution_v_2.0
developed by the Laboratory of Audiovisual Communications (LCAV), Ecole
Polytechnique Federale de Lausanne (EPFL).
a) Proposed SR b) PG c) POCS
d) BP e) RS f) NC
Figure 6-12: Obtained results from different super-resolution schemes
126
6.4 Conclusions
In this chapter, different versions of the methodology presented in Chapter 5 were
applied in 2D images and the obtained results were evaluated. In addition, a visual
comparison between the proposed SR algorithm and existing well-known was performed.
The main findings of the 2D case study can by summarized below:
1. Regarding the compounding schemes compare to original images
 Both Proposed schemes present similar values for all the PM
 CNR and SNR are significantly improved
 SNR is better compared to other methodologies and without over-smoothing
 Much better visual results
 Better delineation of boundaries
 New structures were revealed
2. Regarding Super resolution schemes compared to original images
 Higher image resolution
 CNR and SNR are significantly improved for both schemes.
 SNR is similar compared to other methodologies but without over-smoothing
 Much better visual results
 Better delineation of boundaries
127
 New structures were revealed
3. Regarding Super resolution compared to compounding schemes
 Higher image resolution
 CNR was slightly improved while SNR appears to be slightly degraded for both
schemes.
 Both SR schemes appear to present a slightly better boundary delineation
4. Regarding SSP study
 Increasing the number of filters by decreasing the width and the separation
parameters
5. SR algorithms compared to well-known SR algorithms
 Similar visual results with POCS
 Chessboard effect
Overall, the proposed SR methodology presented the most promising results. As both
schemes manifested the higher CNR which is one of the most important parameter for
performance evaluation of ultrasound images, as well as both schemes manifested the most
pleasant visual results. SNR was calculated to be less than the one calculated using only
compounding schemes, but due to this fact, SR schemes avoid over-smoothing (not desired
effect) the image. Additionally, the analysis conducted regarding SSP techniques lead to
the selection of an SSP scheme that uses few filters. Finally, the comparison among the SR
schemes verify that the proposed SR algorithm behaves similar with well-known ones.
128
Thus, given the fact that is non-iterative and can be expanded for the case of 3D was
selected to be the main SR algorithm of the 3D methodology.
The main drawback of a POCS-based algorithm (like the proposed one) is the
chessboard effect. The chessboard effect can be minimized by increasing the number of
input images. In the next chapter, the final 3D image enhancement methodology is
constructed based on the findings in this chapter.
129
7
PROPOSED METHODOLOGY FOR
3D ULTRASOUND IMAGES
7.1 Introduction
This chapter is the last step, for the objectives of the current dissertation to be met.
The outline of the generic image enhancement methodology was mentioned in Chapter 5,
while in this chapter its actual implementation in the case of 3D images is ventured. Here,
the final 3D image enhancement methodology is described in details. As already mentioned
several times throughout this dissertation, the ultimate goal of the methodology developed
in Chapter 5, is to compensate for the loss of image quality of the proposed 3D USI system
presented in Chapter 4. Thus, this methodology was actually designed with respect to the
limitations (image quality degradation) that the proposed 3D ultrasound system presents.
Although the system uses 2D phased array transducers that produce volumetric images
(3D), the analysis conducted in Chapter 6 for 2D images (using 1D phased array
transducers) was critical for the development of the final 3D image enhancement
130
methodology. Indeed, the results from the 2D images case study confirm the adequacy and
effectiveness of the proposed methodology.
7.2 Experimental Set Up
7.2.1 Transducers Configuration
The configuration of the transducers is the same with the topology presented in section
4.2.3 and illustrated in Figure 4-3. The transducers were excited with different frequencies
around the resonant frequency as an intention to apply the frequency compounding method
on the produced B-mode images. The geometrical characteristics for all the transducers
were identical and can be summarized in Table 7-1. More details on the characteristics
were given in section 4.2.3.
Table 7-1: Geometrical characteristics of all transducers, in the case of 3D image
enhancement methodology
Transducers
1-2-3-4
Type 2D phased array
fo (MHz) 3
f (MHz) 3, 3.5
Number of elements 256
Length of elements(mm) 0.9
Width of elements(mm) 0.9
Kerf in the x-direction (μm) 50
Kerf in the y-direction (μm) 50
131
7.2.2 Cyst Phantom
Following the same reasoning with the one discussed in section 6.2.2, the simple cyst
phantom illustrated in Figure 7-1, was used. The phantom consists of 7 blob-like structures
and all of them represent cysts.
O (0,0,0)
x-axis
z-axis
y
-
a
x
i
s
1
2
3
4 5
7
6
Figure 7-1: Selected phantom in the case of the 3D image enhancement methodology
The position of each cyst and their dimensions were carefully selected in such a manner
that some of them lie inside the FOV of all three transducers, whereas others manifest
132
diameter similar to the lateral resolution of the system. The phantom was implemented in
MATLAB. The cysts dimensions and coordinates are given in Table 7-2, below:
Table 7-2: Cysts dimensions and their coordinates, in the case of the phantom used for
the 3D image enhancement methodology
Structures
Center Coordinates
(mm)
Radius
(mm)
Cyst 1 0, 0, 45 5
Cyst 2 0, 0, 60 8
Cyst 3 0, 0, 80 7
Cyst 4 -20, -20, 80 7
Cyst 5 20, -20, 80 7
Cyst 6 -20, 20, 80 7
Cyst 7 20, 20, 80 7
The volume of the cyst phantom, illustrated in Figure 7-1, is
.
000
,
640
100
80
80 3
mm
V 


 As far as the total number of scatterers is concerned, it
was selected to be 130,000. Thus, the number of scatterers that are included inside 1mm3
is .
2
.
0
000
,
640
000
,
130 

s
n Given the axial and lateral resolution of the transducer
described in 4.2.3, the volume of one resolution cell can be calculated,
.
4
.
70
1
.
1
8
8 3
mm
Vc 


 This suggest that inside a single resolution cell the number of
scatterers are .
14
4
.
70
2
.
0 


s
c
n From the theory, when s
c
n is larger than 5, the fully
developed speckle model can be applied. That is that the echo signal produced by the
simulation software can be considered as a band-pass random process.
133
7.3 New 3D Image Enhancement Methodology
In this section we describe in details the implemented algorithm for the case of 3D
images, as well as the procedure followed for the 3D case.
The procedure followed for this experimental set up and for the case of volumetric
images is similar to the one presented in section 5.3 for 2D images, with the appropriate
modifications. It is described below in details.
1. Each transducer provides 2 images of the same scene. In total 8
2
4 
 images
2. Light SSP in one of the 2 images produced by each sensor
3. Perform sub-pixel image registration to find the transformation (known in
simulation) using the SSP processed images
4. Perform frequency compounding using the two original images of each sensor.
Result: Four compounded images
5. Perform super resolution technique to the four compounded images of the previous
stage. Result: Final HR de – noised image
6. 3D Image enhancement
In this case, due to high computational time restrictions, fewer images were selected to
be produced by each transducer, compared to the 2D case. Although steps 2 and 3 are part
of the procedure, they were not actually performed since the sub-pixel shifts among the
transducers (among the images) were already known. Below each one the aforementioned
steps are explained in details.
134
7.3.1 Raw Data Generation (Raw A-lines, RF signal)
After simulating the designed 2D phased array transducers in FIELD II and MATLAB,
the volumetric phantom presented in 7.2.2 was constructed. Then, the above transducer
configuration was adopted and the transducers were placed at the appropriate location in
the surface of the volumetric phantom. Field II was used to produce the raw signals (A-
lines) recorded from each transducer. The scanning of the region was performed following
the procedure presented in section 6.2. Thus, from a single recording of each transducer
2025
45
45 
 items of A-lines were produced. In other words, for a single volumetric
image to be produced, 2025 A-lines were required. In order to capture those A-lines,
Classical Phased Aperture (CPA) beamforming technique was implemented.
7.3.2 Volumetric Image Generation – Developed 3D scan conversion
Firstly, the beamformed A-lines are enveloped detected using Hilbert’s transform and
then the enveloped detected data are log-compressed, in order for the signals to have the
appropriate dynamic range. The resulted log-compressed, envelop detected signals are now
in the appropriate form to undergo the scan conversion technique.
On the contrary to the 2D case, in order to produce the volumetric images a new image
reconstruction algorithm, for 3D scan conversion had to be developed. The notion of scan
conversion for the 2D case was introduced in section 3.3.2.3. For this case, the missing
data (voxels instead of pixels) of the 3D grid can be estimated by interpolation. The
developed algorithm was based on the concept of trilinear interpolation, shown in Figure
7-2, below.
135
z-axis
x-axis
y-axis
P(0,0,0) P(1,0,0)
P(0,1,0) P(1,1,0)
P(1,1,1)
P(1,0,1)
P(0,0,1)
P(0,1,1)
P(x,y,0)
P(x,y,1)
P(x,y,z)
Figure 7-2: Trilinear interpolation of missing voxels
Trilinear interpolation can be performed in the following three steps, consisting of two
bilinear interpolations followed by one linear. With respect to Figure 7-2, these steps are:
1. Computation of ),
0
,
,
( y
x
P as a bilinear interpolation at the xOy plane, at z = 0
2. Computation of ),
1
,
,
( y
x
P as bilinear interpolation at the xOy plane, at z = 1
3. Computation of ),
,
,
( z
y
x
P using linear interpolation for ),
0
,
,
( y
x
P and
).
1
,
,
( y
x
P
Due to the fact that trilinear interpolation is performed in the way described above, 10
weights are needed to be calculated (four for each of the bilinear steps 1 and 2, and two for
the linear step 3).
In order for the missing data of the 3D grid to be interpolated, the nearest values of log
compressed, envelop detected signals are required (Figure 7-3).
136
P(i, k, j)
P1
P
P2
.
.
.
.
. .
. .
.
.
.
.
x-axis
y-axis
z-axis
P(i, k+1, j)
P(i, k, j+1)
P(i, k+1, j+1)
P(i+1, k+1, j+1)
P(i+1, k, j) P(i+1, k+1, j)
P(i+1, k, j+1)
Figure 7-3: Notation of the trilinear interpolation approximation, in the case of 3D
scan conversion
The 3D scan conversion algorithm can be summarized in the following steps:
1. Initialization of the 3D image matrix (zero values)
2. Matrix scanning and identification for each pixel of the following:
a) closest scan lines (4), as shown in Figure 7-3
b) closest samples (2), as shown in Figure 7-3
3. Calculation of the weights 10
2
1, w
w
w 


4. Perform the actual interpolation, consisting of:
137
a) Bilinear interpolation of P1 using weights 4
3
2
1 ,
,
, w
w
w
w , as follows:
)
,
1
,
(
)
1
,
1
,
(
)
,
1
,
,
(
)
,
,
( 4
3
2
1
1 j
k
i
P
w
j
k
i
P
w
j
k
i
P
w
j
k
i
P
w
P 










 (7-1)
b) Bilinear interpolation of P2 using weights 8
7
6
5 ,
,
, w
w
w
w , as follows:
)
,
1
,
1
(
)
1
,
1
,
1
(
)
,
1
,
,
1
(
)
,
,
1
( 8
7
6
5
2 j
k
i
P
w
j
k
i
P
w
j
k
i
P
w
j
k
i
P
w
P 















(7-2)
c) Linear interpolation of P using P1 and P2 with respective weights 9
w and
10
w , as follows:
2
10
1
9 P
w
P
w
P 


 (7-3)
Above, ),
,
,
( j
k
i
P is the actual recorded value of the th
i sample that belongs in the scan
line k, at plane j.
7.3.3 Frequency compounding
Following the procedure described above, 8 volumetric images (2 per transducer) were
generated. Frequency compounding was performed to each pair of images produced by the
same transducer, resulting in 4 compounded images. At this point it is worth highlighting
that the steps of SSP and sub-pixel registration were omitted, due to the fact that the
positions of the transducers were already known (they had been carefully selected in
advance) and as a result the shifts of the transducers were known as well. That resulted to
speed-up the whole process, excluding a step that was not one of the current work
objectives, i.e., 3D motion estimation. On the contrary, implementation of an SR algorithm
is one of the most important objective of this dissertation, since it is a prerequisite for the
138
successful implementation and effectiveness of the proposed ultrasound system. That is
why for the next step a new super resolution algorithm was developed and implemented.
7.3.4 New 3D Super Resolution Algorithm
The 3D super resolution algorithm implemented in this section, is a generic one. That
is, it can be applied in an arbitrary number of LR volumetric input images. Although 2D
super resolution has attracted the interest of a numerous researchers from different fields,
SR for 3Dimensional data has not yet been studied extensively. This is why very few
references of 3D applications of the SR can be found in the literature. Consequently, there
is a difficulty to assess the proposed SR algorithm and the proposed methodology in
general. The algorithm to be presented here is based on super resolution via image
wrapping, but differs from similar algorithms in the essence that drills information of the
topology of the presented system.
The algorithmic steps of the implemented algorithm are the following ones:
1. Choose a reference 3D image from the pool of 3D LR input images
2. Find the motion field from the rest LR images with respect to the reference image
(known for the case presented)
3. Construct the HR cubic grid, scale-up the LR images (cubic interpolation) and wrap
them to it
4. Assign weights to each voxel of each image (wt), depending on:
 the distance between the position of image’s voxel and the center of the
transducer
139
 the distance between the position of image’s voxel and the actual voxel on
the HR grid
5. Perform image fusion given the weights assigned before. The resulting image is the
compounded HR volumetric image (ICHR)
At this point it is worth highlighting the way the fusion was achieved. As described in
step 4, for each voxel of all interpolated images, a weight was assigned. This introduces
two new types of information to the proposed algorithm; a) global information and b) local
information. The term global information refers to information in regards to the topology
of the system. In the described topology, the system consists of four transducers. For each
voxel, the idea is to weight more information coming from the closest transducer. From the
other side, the local information term refers to the information that can be introduced to the
algorithm in regards to the neighbors of the voxel on the HR grid.
Thus, the weight of each voxel of each interpolated image is a function of the following
form:
)
,
,
(
*
)
1
(
)
,
,
(
*
)
,
,
( z
y
x
l
a
z
y
x
g
a
z
y
x
w t
t
t 

 (7-4)
In equation (7-4) above, t can take values from 1 to 4, depending on by which transducer
the image was captured. Moreover, wt is the weight of the voxel P(x, y, z) of the interpolated
image produced by the transducer t. In addition, gt and lt are the global and local
information functions respectively, of the voxel P(x, y, z). Finally, values a and (1-a) (
]
1
,
0
[

a ) indicate to what extend global and local information respectively, affect the
weights.
140
The final HR image (step 5) is calculated using the following formula:




 4
1
4
1
)
,
,
(
))
,
,
(
*
)
,
,
(
(
)
,
,
(
t
t
t
t
CINTt
CHR
z
y
x
w
z
y
x
w
z
y
x
I
z
y
x
I (7-5)
In equation (7-5) above, CHR
I is the compounded HR image, whereas CINTt
I each one of the
interpolated compounded images that had been previously obtained.
7.3.5 3D Image Enhancement
In the 3D case, there is one more step in order to achieve further enhancement of the
final result. In particular, the type of enhancement performed aims at image contrast
enhancement.
In this step classical image processing techniques were applied. The algorithmic steps
for this part can be summarized as follows.
1. Given the input of the previous step (ICHR), image multiplication was applied
2. Perform a controlled histogram equalization
The outcome of the first step is the multiplied image given by the following
relationship:
)
,
,
(
*
)
,
,
(
)
,
,
( z
y
x
I
z
y
x
I
z
y
x
I CHR
CHR
MCHR  (7-6)
In equation (7-6) above, MCHR
I is the multiplied, compounded HR image obtained from
an element-wise multiplication.
141
The outcome then undergoes a controlled histogram equalization. That is, the mapping
function is introduced by the user. It was found that applying the sigmoid function given
in equation (7-7), the maximum CNR was achieved:












))
)
,
,
(
(
*
exp(
1
1
*
)
,
,
(
c
z
y
x
I
c
b
z
y
x
I
MCHR
EHR (7-7)
Where IEHR is the final enhanced HR volumetric image, b and c are constants, selected to
have values 0.95 and 0.35 respectively, after histogram inspection.
In the above equation, the final enhanced HR volumetric image, is the outcome of
sigmoid transformation to the intensity of each voxel of the multiplied compounded HR
volumetric image.
7.4 Results
In this section the results obtained after applying the proposed methodology for 3D
ultrasound images are presented. The section is divided into three subsections; the first one
deals with the presentation of the input images (generated images using a single
transducer). The second, presents the results obtained after applying the methodology for
the compounded HR image (ICHR), while the third one presents the results obtained for the
enhanced HR image (IEHR).
In both latter cases, all results were visually compared with a scaled up (cubic
interpolation) version of original images. Interpolated images are usually used as
benchmarks for testing SR algorithms. Then, the most important performance measures,
i.e., signal to noise ratio (SNR) and contrast to noise ratio (CNR) were calculated in order
142
to quantify the improvement in the image quality. The results obtained for those two
measures showed significant improvement in both cases. In addition, the results were
visually assessed and got compared to the original images. In order to visualize the 3D
space, the orthogonal slices of the obtained images are presented.
7.4.1 Original Images
One slice of the volumetric input images is given in Figure 7-4 and Figure 7-5 below.
In all images, the region with the 3 cysts has been extracted. In Figure 7-4, the images
obtained from transducers 1-4, with operating frequency 3MHz are given, while in Figure
7-5 the respective images with operating frequency 3.5MHz.
All of the images present poor quality. This is mainly due to the low lateral resolution
of the transducers, as well as the fact that during the scanning process only 45 scan lines
were used in the azimuthal direction (x). That resulted in numerous missing values which
need to be estimated during the scan conversion algorithm.
In the original images shown both Figure 7-4 and Figure 7-5, only one cyst is visible,
whereas another can be only hardly distinguished and the third can be identified. In none
of the images though, the actual shape and size of the cysts has been correctly depicted.
143
Figure 7-4: One slice of the volumetric input images produced by stand-alone
transducers with operating frequency 3MHz
144
Figure 7-5: One slice of the volumetric input images produced by stand-alone
transducers with operating frequency 3.5MHz
145
As mentioned above, interpolation schemes are used in order to assess the performance
of SR algorithm. Scale up of the input images by factor was applied, using cubic
interpolation in order for the input images to match the resolution of the outcome of the
methodology.
The scaled up images are illustrated in Figure 7-6 and Figure 7-7. All of them appear
to be the same with the original ones. In order to quantify the quality of the produced
images of CNR and SNR were calculated and are presented in Table 7-3 below. The CNR
was computed for the 3 cysts illustrated in the obtained image. Those are the cysts 1, 2, 3
depicted in Figure 7-1.
Table 7-3: Calculation of CNR and SNR of the interpolated volumetric images
CNRCyst1 CNRCyst2 CNRCyst3 SNR
Interpolated Image1 0.1443 0.1867 0.3496 16.6836
Interpolated Image2 0.1292 0.1398 0.3700 16.1310
Interpolated Image3 0.1670 0.1811 0.3469 16.9079
Interpolated Image4 0.1422 0.1565 0.3425 16.1588
Interpolated Image5 0.1637 0.1593 0.3499 16.7861
Interpolated Image6 0.1399 0.1314 0.3250 16.8639
Interpolated Image7 0.1389 0.1525 0.3105 17.4317
Interpolated Image8 0.1028 0.1743 0.3223 16.6918
146
Figure 7-6: One slice of the volumetric interpolated input images produced by stand-
alone transducers with operating frequency 3MHz
147
Figure 7-7: One slice of the volumetric interpolated input images produced by stand-
alone transducers with operating frequency 3.5MHz
148
x-axis
y-axis
x-axis
z-axis
y-axis
z-axis
Figure 7-8: Orthogonal slices of the interpolated volumetric image, produced by
transducer 1, with operating frequency 3MHz
The limitation of the transducers used for the proposed configuration is apparent. In
Figure 7-8 and especially for the xy plane, the low resolution of the image produced, which
in particular of the lateral one is very severe.
7.4.2 Compounded HR Image CHR
I
Having the scaled up version of the original images, the performance of the algorithm
can be evaluated. The obtained results from the compounded HR image are given in Figure
7-9 and Table 7-4.
149
x-axis
z-axis y-axis
z-axis
x-axis
y-axis
Figure 7-9: Orthogonal slices of the compounded HR volumetric image
It is obvious from all the slices presented in Figure 7-9 that the improvement observed
for the case of compounded HR image is significant. All the cysts have been identified and
all of them are better delineated. Lateral resolutions seems to have been improved. The
corresponding performance measures for this case are depicted in Table 7-4. While in
Figure 7-10 one interpolated image is compared with the obtained compounded HR image.
150
Table 7-4: Calculation of CNR and SNR of the compounded HR volumetric image
CNRCyst1 CNRCyst2 CNRCyst3 SNR
Compounded HR Image 0.1979 0.2179 0.4786 32.7740
Compounded HR Image
Figure 7-10: Comparison between the interpolated volumetric image and the
compounded HR image
Both the table and the figure illustrate the significance of improvement. One drawback
of the implemented SR algorithm is that manifest the chessboard effect and that the images
appeared to be a little over-smoothed.
151
7.4.3 Enhanced Super Resolution
In the enhanced super resolution image that was produced after image multiplication
and a histogram equalization with sigmoid as a mapping function, those two artifacts
appears to be significantly reduced. The orthogonal slices presented in Figure 7-11,
manifest the achieved betterment on the quality for the final image. All the cysts are
perfectly delineated. The improvement is obvious in all orthogonal planes. The undesired
noise seems to have been completely removed, while the image maintains the speckle
characteristics
x-axis
z-axis
y-axis
z-axis
x-axis
y-axis
Figure 7-11: Orthogonal slices of the enhanced HR volumetric image
152
In Table 7-5, the performance measures for the case of the final enhanced HR image
are given, while in Figure 7-12 the final obtained image is compared with the one of the
original interpolated images.
Table 7-5: Calculation of CNR and SNR of the enhanced HR volumetric image
CNRCyst1 CNRCyst2 CNRCyst3 SNR
Enhanced SR Image 0.4154 0.3263 0.5471 19.4425
Enhanced HR Image
Figure 7-12: Comparison between the interpolated volumetric image and the enhanced
HR image
153
In the following table (Table 7-6) the cumulative results are presented, while in Table 7-7
and Table 7-8 the percentage improvement for all CNR and the SNR has been calculated
for the case of Compounded HR image and the enhanced HR image.
Table 7-6: Comparative table with CNR and SNR for all abovementioned imaging
techniques
Techniques CNRCyst1 CNRCyst2 CNRCyst3 SNR
Enhanced SR 0.4154 0.3263 0.5471 19.4425
Comp SR 0.1979 0.2179 0.4786 32.7740
Interpolated Image1 0.1443 0.1867 0.3496 16.6836
Interpolated Image2 0.1292 0.1398 0.3700 16.1310
Interpolated Image3 0.1670 0.1811 0.3469 16.9079
Interpolated Image4 0.1422 0.1565 0.3425 16.1588
Interpolated Image5 0.1637 0.1593 0.3499 16.7861
Interpolated Image6 0.1399 0.1314 0.3250 16.8639
Interpolated Image7 0.1389 0.1525 0.3105 17.4317
Interpolated Image8 0.1028 0.1743 0.3223 16.6918
Table 7-7: Percentage improvement in CNR and SNR between Compounded SR and
interpolated images
Compounded SR
Techniques CNRCyst1 CNRCyst2 CNRCyst3 SNR
Interpolated Image1 37.1% 16.7% 36.9% 96.4%
Interpolated Image2 53.2% 55.9% 29.4% 103.2%
Interpolated Image3 18.5% 20.3% 38.0% 93.8%
Interpolated Image4 39.2% 39.2% 39.7% 102.8%
Interpolated Image5 20.9% 36.8% 36.8% 95.2%
Interpolated Image6 41.5% 65.8% 47.3% 94.3%
Interpolated Image7 42.5% 42.9% 54.1% 88.0%
Interpolated Image8 92.5% 25.0% 48.5% 96.3%
154
Table 7-8: Percentage improvement in CNR and SNR between Enhanced SR and
interpolated images
Enhanced SR
Techniques CNRCyst1 CNRCyst2 CNRCyst3 SNR
Interpolated Image1 187.9% 74.8% 56.5% 16.5%
Interpolated Image2 221.5% 133.4% 47.9% 20.5%
Interpolated Image3 148.7% 80.2% 57.7% 15.0%
Interpolated Image4 192.1% 108.5% 59.7% 20.3%
Interpolated Image5 153.8% 104.8% 56.4% 15.8%
Interpolated Image6 196.9% 148.3% 68.3% 15.3%
Interpolated Image7 199.1% 114.0% 76.2% 11.5%
Interpolated Image8 304.1% 87.2% 69.7% 16.5%
As it is observed in Table 7-8 the improvement of CNR varies from 47.9% to 304.1%
while for the SNR form 11.5% to 20.5%. The results seems to be quite satisfying. At this
point, is worth highlighting that although the improvement in the SNR doesn’t seem to be
that high, this doesn’t mean that the de-noising wasn’t that effective. On the contrary, it is
obvious form Figure 7-12 that most of the noisy voxels that lie inside the cysts have been
disappeared. This is has been achieved without oversmoothing the rest of the image. For
all the above the algorithm seem to be quite effective in undesired noise reduction, while
at the same time maintains the images inherent characteristics.
7.4.4 Image Segmentation
In order to evaluate the achieved improvement in image quality, a 3D image
segmentation algorithm using simple threslholding was implemented applied to the
interpolated images, as well as to the final enhanced HR image. Assuming that cysts
represent dark areas with values close to 0 in the grayscale level and knowing their
dimensions and exact location inside the cyst phantom, it was a detrimental task to calculate
155
the percentage of correctly identified voxels (voxels that were correctly identified to be
part of the cyst) in the two cases (before and after the methodology). In the following
figures, the results of the segmentation for the 3 first cyst before and after applying the
image enhancement methodology are presented.
Figure 7-13: Obtained results after applying segmentation on cyst 1 left) Interpolated
image 1 and right) Enhanced HR image
Figure 7-14: Obtained results after applying segmentation on cyst 2 left) Interpolated
image 1 and right) Enhanced HR image
156
Figure 7-15: Obtained results after applying segmentation on cyst 3 left) Interpolated
image 1 and right) Enhanced HR image
From Figure 7-13 and Figure 7-15, the improvement in outcome of the segmentation
is apparent. In order to quantify those results, the ratio of the correctly identified voxels to
the total volume of the cysts was calculated and given in Table 7-9 and Table 7-10 for the
original interpolated image 1 and the final enhanced HR image respectively.
Table 7-9: Image 1: Percentage of correctly identified voxels for three cysts
CNRCyst1 CNRCyst2 CNRCyst3
Correct (voxels) 2134 44738 44900
Total (voxels) 65267 267761 179579
Percentage (%) 3.27 16.71 25.00
Table 7-10 Enhanced HR Image: Percentage of correctly identified voxels for the three
cysts
CNRCyst1 CNRCyst2 CNRCyst3
Correct (voxels) 37250 212898 130942
Total (voxels) 65267 267761 179579
Percentage (%) 57.07 79.51 72.92
157
Comparing Figure 7-13 to Figure 15, useful conclusions can be conducted. It is obvious
that after applying the methodology, even a simple image segmentation algorithm can
produce quite accurate results. All the identified cysts in the case of the Enhanced HR
image, appear to be quite dense and to have the correct shape (spherical). Finally,
comparing Table 7-9 with Table 7-10, the increase in percentage of correctly characterized
voxels is more than obvious. The aforementioned results increase our confidence that a
more complex 3D image segmentation algorithms can be applied directly to the enhanced
image and automatically extract the ROIs and provide these regions to the doctors.
7.5 Conclusions
The obtained results of the enhanced HR image revealed a significant improvement in
the CNR up to 304.1% depending on the size and the location of the cysts inside the
phantom. The corresponding improvement for the SNR was recorded to be up to 20.5%.
The methodology manages to reduce speckle noise without oversmoothing the image.
Visually, a significant improvement is observed comparing the obtained image after
applying the methodology and the interpolated one capture by a single transducer. The
improvement can be assessed by the revealing new structures as well as the much better
boundary delineation. Overall, it can be safely stated that the proposed 3D image
enhancement methodology is more than suitable to exploit the potentials of the proposed
3D multi transducer system.
158
8
CONCLUSIONS
8.1 Recapitulation
One of the objectives of the current work was to investigate possible shortcomings,
challenges and areas that are amenable for further improvement, in the field of POC
monitoring and especially for POC imaging systems in order to come up with a novel
system in field. In the second chapter, a survey on different types of POC sensor – based
systems for monitoring applications was presented as an intention to reveal scientific fields
that require further attention from researchers and designers. A metric to assess the
maturity level of each examined device and another one to weight the contribution of
various scientific areas responsible for the final outcome was developed. In that way, we
identified of certain systems that require efforts to achieve an acceptable maturity score
was possible, in order to focus on those systems.
Throughout this dissertation research, it was obvious that imaging point-of-care
systems are not as widely spread as the systems for physiological signal monitoring. For
159
this particular reason, the focus of the current study was the very promising ultrasound
systems. In Chapter 3, the background of ultrasound imaging systems was presented and
the limitations, artifacts and challenges of such systems were revealed. Under these
circumstances a novel ultrasound system for low – power POC applications with extended
capabilities with respect to the current ones was proposed in Chapter 4. In Chapter 5, the
ultrasound imaging techniques applied in current systems were discussed, and a new
methodology based on the novel architecture for ultrasound image enhancement was
proposed. The results of the aforementioned methodology applied for 2D ultrasound
images were presented in Chapter 6. Finally, in Chapter 7, the methodology presented in
Chapter 5, was applied for 3D simulated ultrasound images. The proposed 3D image
enhancement methodology was based on the transducers configuration presented in
Chapter 4. Below we state the major findings and conclusions of our study, as well as future
work needed for further extension of our task, which entails the study and design of novel
low-cost, low-power ultrasound machine, for POC abdominal region monitoring.
8.2 Conclusions
Herein the most important conclusions drawn throughout this study, are pointed out:
 First of all, the performed survey in Chapter 2 highlighted several technological
advancements during the last decades that have been the driving forces for the
production of numerous wearable or even implantable medical devices, for a wide
variety of medical applications. Although the heterogeneity of those devices and
the prominent role they may play in the betterment of the current healthcare system
160
is significant, it was clear that there is still room for improvements in order for POC
devices to be fully functional and incorporated in today’s healthcare system.
Moreover, there are major trade-offs for both wearable and implantable devices
which further drove this study to focus on designing and developing a novel
ultrasound machine with enhanced capabilities.
 Due to the basic principle of the proposed portable ultrasound design to reduce the
required time for region scanning (and increase the FR), the resolution of the image
that could be obtained was degraded. The loss in the resolution was compensated
by taking advantage of the multiple transducers and the overlapped areas created.
In particular, the phased – sub – array (PSA) technique during the beamforming
procedure contributed significantly to the reduction of the system complexity and
the number of hardware components required.
 A clear improvement on the final 2D image produced by applying the proposed
image enhancement methodology was observed. The betterment of the resolution
was obvious even by visual inspection and several hidden structures in the original
images were revealed of hidden structures whereas clear delineation of certain
boundaries was achieved.
 As it was anticipated the results of the 3D version of the methodology present
similar and even better behavior. For the 3D case, a new super resolution algorithm
was developed, based on the well-known POCS SR algorithm. The difference is
that each voxel in the HR grid is calculated based on global and local information
introduced by the configuration of the transducers. The obtained results of the
enhanced HR image revealed a significant improvement in the CNR up to 304.1%,
161
depending on the size and the location of the cysts inside the phantom. The
corresponding improvement for the SNR was recorded to be up to 20.5%. The
methodology manages to reduce speckle noise without over smoothing the image.
Visually, a significant improvement was observed comparing the obtained image
after applying the methodology and the interpolated one capture by a single
transducer. The improvement can be assessed by the revealing new structures as
well as the much better boundary delineation.
 Overall, it can be safely stated that the proposed 3D image enhancement
methodology is more than suitable to exploit the potentials of the proposed 3D multi
transducer system.
8.3 Future Work
The current dissertation research study can be the starting point towards more
exhaustive work in the field of medical ultrasonics. The potential of ultrasound imaging
systems, given the currently conducted research in the field of digital electronics, image
enhancement and in particular in image reconstruction and super resolution techniques is
limitless. For all those reasons, the current work could be further extended. Potential
additions that can be applied are the following:
 Further improvement in the design of the 2D phased array transducer could be
investigated.
 A better beamforming scheme may be applied in order to produce either faster
of better results. The possibility of use parallel or adaptive beamforming could
be examined.
162
 Other 3D super resolution techniques could be tested and evaluated. In
particular, an SR technique for the overlapped regions, during image
reconstruction seem quite attractive for the proposed configuration.
 We anticipate that the current study will be the driving force for the actual
development of a prototype of the aforementioned system in order to test its
capabilities in practice.
163
REFERENCES
[1] Kost, G. J. (1995). Guidelines for point-of-care testing. Improving patient outcomes.
American journal of clinical pathology, 104(4 Suppl 1), S111-27.
[2] Gatzoulis, L., & Iakovidis, I. (2007). Wearable and portable eHealth
systems.Engineering in Medicine and Biology Magazine, IEEE, 26(5), 51-56.
[3] Husten, C. G., Lewin, L. S., Marks, J. S., Fielding, J. E., & Sanchez, E. J. (2009). The
economic argument for disease prevention: distinguishing between value and
savings. Partnership for Prevention.
[4] Ward, S. A., Parikh, S., & Workman, B. (2011). Health perspectives: international
epidemiology of ageing. Best Practice & Research Clinical Anaesthesiology, 25(3),
305-317.
[5] Harvey, A., Brand, A., Holgate, S. T., Kristiansen, L. V., Lehrach, H., Palotie, A.,
& Prainsack, B. (2012). The future of technologies for personalised medicine.New
biotechnology, 29(6), 625-633.
[6] Onuki, Y., Bhardwaj, U., Papadimitrakopoulos, F., & Burgess, D. J. (2008). A
review of the biocompatibility of implantable devices: current challenges to
overcome foreign body response. Journal of diabetes science and technology,2(6),
1003-1015.
164
[7] Ziegler, A., Koch, A., Krockenberger, K., & Großhennig, A. (2012). Personalized
medicine using DNA biomarkers: a review. Human genetics, 131(10), 1627-1638.
[8] Mascini, M., & Tombelli, S. (2008). Biosensors for biomarkers in medical
diagnostics. Biomarkers, 13(7-8), 637-657.
[9] Moore, C. L., & Copel, J. A. (2011). Point-of-care ultrasonography. New England
Journal of Medicine, 364(8), 749-757.
[10] Morris, T. J., Pajak, J., Havlik, F., Kenyon, J., & Calcagni, D. (2006). Battlefield
medical information system–tactical (BMIST): the application of mobile computing
technologies to support health surveillance in the Department of
Defense. Telemedicine Journal & e-Health, 12(4), 409-416.
[11] Wise, K. D. (2007). Integrated sensors, MEMS, and microsystems: Reflections on a
fantastic voyage. Sensors and Actuators A: Physical, 136(1), 39-50.
[12] Fox, A., Griffith, R., Joseph, A., Katz, R., Konwinski, A., Lee, G., & Stoica, I.
(2009). Above the clouds: A Berkeley view of cloud computing. Dept. Electrical
Eng. and Comput. Sciences, University of California, Berkeley, Rep.
UCB/EECS, 28, 13.
[13] Weiland, J. D., & Humayun, M. S. (2008). Visual prosthesis. Proceedings of the
IEEE, 96(7), 1076-1084.
[14] Fayad, J. N., Otto, S. R., Shannon, R. V., & Brackmann, D. E. (2008). Cochlear and
Brainstem Auditory Prostheses``Neural Interface for Hearing Restoration: Cochlear
and Brain Stem Implants''. Proceedings of the IEEE, 96(7), 1085.
165
[15] Turner, J. A., Loeser, J. D., Deyo, R. A., & Sanders, S. B. (2004). Spinal cord
stimulation for patients with failed back surgery syndrome or complex regional pain
syndrome: a systematic review of effectiveness and complications. Pain,108(1),
137-147.
[16] Coffey, R. J. (2009). Deep brain stimulation devices: a brief technical history and
review. Artificial organs, 33(3), 208-220.
[17] Staples, M. (2010). Microchips and controlled‐release drug reservoirs. Wiley
Interdisciplinary Reviews: Nanomedicine and Nanobiotechnology, 2(4), 400-417.
[18] Oresko, J. J., Jin, Z., Cheng, J., Huang, S., Sun, Y., Duschl, H., & Cheng, A. C.
(2010). A wearable smartphone-based platform for real-time cardiovascular disease
detection via electrocardiogram processing. IEEE Transactions on Information
Technology in Biomedicine, 14(3), 734-740.
[19] Jaw, F. S., Tseng, Y. L., & Jang, J. K. (2010). Modular design of a long-term
portable recorder for physiological signals. Measurement, 43(10), 1363-1368.
[20] Brown, L., Van de Molengraft, J., Yazicioglu, R. F., Torfs, T., Penders, J., & Van
Hoof, C. (2010, August). A low-power, wireless, 8-channel EEG monitoring
headset. In Engineering in Medicine and Biology Society (EMBC), 2010 Annual
International Conference of the IEEE (pp. 4197-4200). IEEE.
[21] Patel, S., Lorincz, K., Hughes, R., Huggins, N., Growdon, J., Standaert, D. &
Bonato, P. (2009). Monitoring motor fluctuations in patients with Parkinson's
disease using wearable sensors. , IEEE Transactions on Information Technology in
Biomedicine,13 (6), 864-873.
166
[22] Poh, M. Z., Swenson, N. C., & Picard, R. W. (2010). A wearable sensor for
unobtrusive, long-term assessment of electrodermal activity. IEEE Transactions on
Biomedical Engineering, 57(5), 1243-1252.
[23] Rickard, J., Ahmed, S., Baruch, M., Klocman, B., Martin, D. O., & Menon, V.
(2011). Utility of a novel watch-based pulse detection system to detect pulselessness
in human subjects. Heart Rhythm, 8(12), 1895-1899.
[24] Kim, G. D., Yoon, C., Kye, S. B., Lee, Y., Kang, J., Yoo, Y., & Song, T. K. (2012).
A single FPGA-based portable ultrasound imaging system for point-of-care
applications. IEEE Transactions on Ultrasonics, Ferroelectrics, and Frequency
Control, 59(7), 1386-1394.
[25] Cheong, J. H., Ng, S. S. Y., Liu, X., Xue, R. F., Lim, H. J., Khannur, P. B.& Je, M.
(2012). An inductively powered implantable blood flow sensor microsystem for
vascular grafts. IEEE Transactions on Biomedical Engineering, 59(9), 2466-2475.
[26] Valdastri, P., Menciassi, A., Arena, A., Caccamo, C., & Dario, P. (2004). An
implantable telemetry platform system for in vivo monitoring of physiological
parameters. IEEE Transactions on Information Technology in Biomedicine, 8(3),
271-278.
[27] Troughton, R. W., Ritzema, J., Eigler, N. L., Melton, I. C., Krum, H., Adamson, P.
B. & Homeostasis Investigators. (2011). Direct left atrial pressure monitoring in
severe heart failure: long-term sensor performance. Journal of cardiovascular
translational research, 4(1), 3-13.
167
[28] Cong, P., Ko, W. H., & Young, D. J. (2010). Wireless batteryless implantable blood
pressure monitoring microsystem for small laboratory animals. Sensors Journal,
IEEE, 10(2), 243-254.
[29] Leonardi, M., Pitchon, E. M., Bertsch, A., Renaud, P., & Mermoud, A. (2009).
Wireless contact lens sensor for intraocular pressure monitoring: assessment on
enucleated pig eyes. Acta ophthalmologica, 87(4), 433-437.
[30] Meng, X., Kawoos, U., Huang, S. M., Tofighi, M. R., & Rosen, A. (2012, June).
Implantable wireless devices for the monitoring of intracranial pressure. 16th
International Symposium on Consumer Electronics (ISCE), 2012 IEEE (pp. 1-2).
[31] Kawoos, U., Warty, R., Tofighi, M. R., Kralick, F. A., Yoo, D., Neal, T., & Rosen,
A. (2009, January). Embedded microwave system for monitoring of intracranial
pressure. In Radio and Wireless Symposium, 2009. RWS'09. IEEE (pp. 119-122).
[32] Fletter, P. C., Majerus, S., Cong, P., Damaser, M. S., Ko, W. H., Young, D. J., &
Garverick, S. L. (2009, June). Wireless micromanometer system for chronic bladder
pressure monitoring. 2009 Sixth International IEEE Conference in Networked
Sensing Systems (INSS) (pp. 1-4).
[33] Karargyris, A., & Bourbakis, N. (2010). Wireless capsule endoscopy and endoscopic
imaging: A survey on various methodologies presented. Engineering in Medicine
and Biology Magazine, IEEE, 29(1), 72-83.
[34] Mohammed, M. I., & Desmulliez, M. P. (2011). Lab-on-a-chip based immunosensor
principles and technologies for the detection of cardiac biomarkers: a review. Lab
on a Chip, 11(4), 569-595.
168
[35] Mastrototaro, J. J. (2000). The MiniMed continuous glucose monitoring
system.Diabetes technology & therapeutics, 2(1, Supplement 1), 13-18.
[36] Pantelopoulos, A., & Bourbakis, N. G. (2010). A survey on wearable sensor-based
systems for health monitoring and prognosis. Systems, Man, and Cybernetics, Part
C: Applications and Reviews, IEEE Transactions on, 40(1), 1-12.
[37] Tsakalakis, M., & Bourbakis, N. G. (2014, August). Health care sensor—Based
systems for point of care monitoring and diagnostic applications: A brief survey.
In Engineering in Medicine and Biology Society (EMBC), 2014 36th Annual
International Conference of the IEEE (pp. 6266-6269).
[38] Yang, J., DeRidder, N., Ume, C., & Jarzynski, J. (1993). Non-contact optical fibre
phased array generation of ultrasound for non-destructive evaluation of materials
and processes. Ultrasonics, 31(6), 387-394.
[39] Holmes, C., Drinkwater, B. W., & Wilcox, P. D. (2005). Post-processing of the full
matrix of ultrasonic transmit–receive array data for non-destructive evaluation. NDT
& E International, 38(8), 701-711.
[40] Borenstein, J., & Koren, Y. (1988). Obstacle avoidance with ultrasonic sensors.
IEEE Journal of Robotics and Automation, 4(2), 213-218.
[41] Ward, A., Jones, A., & Hopper, A. (1997). A new location technique for the active
office. Personal Communications, IEEE, 4(5), 42-47.
[42] Pedersen, J. F. (1980). Ultrasound evidence of sexual difference in fetal size in first
trimester. British medical journal, 281(6250), 1253.
169
[43] Badea, R., & Ioanitescu, S. (2012). Ultrasound Imaging of Liver Tumors-Current
Clinical Applications. INTECH Open Access Publisher.
[44] Reuwer, P. J. H. M., Rietman, G. W., Sijmons, E. A., Van Tiel, M. W. M., &
Bruinse, H. W. (1987). Intrauterine growth retardation: prediction of perinatal
distress by Doppler ultrasound. The Lancet, 330(8556), 415-418.
[45] Malizos, K. N., Hantes, M. E., Protopappas, V., & Papachristos, A. (2006). Low-
intensity pulsed ultrasound for bone healing: an overview. Injury, 37(1), S56-S62.
[46] Siegel, R. J., & Luo, H. (2008). Ultrasound thrombolysis. Ultrasonics, 48(4), 312-
320.
[47] Newman, C. M. H., & Bettinger, T. (2007). Gene therapy progress and prospects:
ultrasound for gene transfer. Gene therapy, 14(6), 465-475.
[48] Walmsley, A. D. (1988). Applications of ultrasound in dentistry. Ultrasound in
medicine & biology, 14(1), 7-14.
[49] Tobis, J. M., Mallery, J., Mahon, D., Lehmann, K., Zalesky, P., Griffith, J. & Dwyer,
M. L. (1991). Intravascular ultrasound imaging of human coronary arteries in vivo.
Analysis of tissue characterizations with comparison to in vitro histological
specimens. Circulation, 83(3), 913-926.
[50] Volpicelli, G., Elbarbary, M., Blaivas, M., Lichtenstein, D. A., Mathis, G.,
Kirkpatrick, A. W. & Petrovic, T. (2012). International evidence-based
recommendations for point-of-care lung ultrasound. Intensive care medicine,38(4),
577-591.
170
[51] Sofuni, A., Iijima, H., Moriyasu, F., Nakayama, D., Shimizu, M., Nakamura, K. &
Itoi, T. (2005). Differential diagnosis of pancreatic tumors using ultrasound contrast
imaging. Journal of gastroenterology, 40(5), 518-525.
[52] Ali, M., Magee, D., & Dasgupta, U. (2008). Signal processing overview of
ultrasound systems for medical imaging. SPRAB12, Texas Instruments, Texas.
[53] Hunt, J. W., Arditi, M., & Foster, F. S. (1983). Ultrasound transducers for pulse-
echo medical imaging. IEEE Transactions on Biomedical Engineering, (8), 453-
481.
[54] Havlice, J. F., & Taenzer, J. C. (1979). Medical ultrasonic imaging: An overview of
principles and instrumentation. Proceedings of the IEEE, 67(4), 620-641.
[55] Morgan, C. L., Trought, W. S., Clark, W. M., von Ramm, O. T., & Thurstone, F. L.
(1978). Principles and applications of a dynamically focused phased array real time
ultrasound system. Journal of Clinical Ultrasound, 6(6), 385-391.
[56] Kossoff, G. (1979). Analysis of focusing action of spherically curved
transducers. Ultrasound in medicine & biology, 5(4), 359-365.
[57] Eggleton, R. C., & Johnston, K. W. (1975, February). Real time B-mode mechanical
scanning system. In Application of Optical Instrumentation in Medicine III (pp. 96-
100). International Society for Optics and Photonics.
[58] Wildes, D. G., Chiao, R. Y., Daft, C. M., Rigby, K. W., Smith, L. S., & Thomenius,
K. E. (1997). Elevation performance of 1.25 D and 1.5 D transducer arrays. IEEE
171
Transactions on Ultrasonics, Ferroelectrics, and Frequency Control, 44(5), 1027-
1037.
[59] Thomenius, K. E. (1996, November). Evolution of ultrasound beamformers.
InUltrasonics Symposium, 1996. Proceedings of the IEEE (Vol. 2, pp. 1615-1622).
IEEE.
[60] Bajura, M., Fuchs, H., & Ohbuchi, R. (1992, July). Merging virtual objects with the
real world: Seeing ultrasound imagery within the patient. In ACM SIGGRAPH
Computer Graphics (Vol. 26, No. 2, pp. 203-210). ACM.
[61] Fenster, A., Downey, D. B., & Cardinal, H. N. (2001). Three-dimensional ultrasound
imaging. Physics in medicine and biology, 46(5), R67.
[62] Oralkan, Ö., Johnson, J., Karaman, M., Demirci, U., Kaviani, K., Lee, T. H., &
Khuri-Yakub, B. T. (2002). Capacitive micromachined ultrasonic transducers: Next-
generation arrays for acoustic imaging?. IEEE Transactions on Ultrasonics,
Ferroelectrics, and Frequency Control, 49(11), 1596-1610.
[63] Insana, M. F., Wagner, R. F., Garra, B. S., Brown, D. G., & Shawker, T. H. (1986).
Analysis of ultrasound image texture via generalized Rician statistics.Optical
Engineering, 25(6), 256743-256743.
[64] Meir, A., & Rubinsky, B. (2009). Distributed network, wireless and cloud
computing enabled 3-D ultrasound; a new medical technology paradigm. PloS
one, 4(11), e7974.
172
[65] Basak, A., Ranganathan, V., & Bhunia, S. (2013, January). A wearable ultrasonic
assembly for point-of-care autonomous diagnostics of malignant growth. In Point-
of-Care Healthcare Technologies (PHT), 2013 IEEE (pp. 128-131).
[66] Szabo, T. L. (2004). Diagnostic ultrasound imaging: inside out. Academic Press.
[67] Harris, F. J. (2004). Multirate signal processing for communication systems.
Prentice Hall PTR.
[68] Kim, G. D., Yoon, C., Kye, S. B., Lee, Y., Kang, J., Yoo, Y., & Song, T. K. (2012).
A single FPGA-based portable ultrasound imaging system for point-of-care
applications. IEEE Transactions on Ultrasonics, Ferroelectrics, and Frequency
Control, 59(7), 1386-1394.
[69] Lee, H., Sohn, H. Y., Yoon, C., Yoo, Y. M., & Song, T. K. (2009, September).
Software-based hand-held ultrasound color Doppler imaging system. InUltrasonics
Symposium (IUS), 2009 IEEE International (pp. 1844-1847).
[70] Hwang, J. J., Quistgaard, J., Souquet, J., & Crum, L. (1998). Portable ultrasound
device for battlefield trauma. In Ultrasonics Symposium, 1998. Proceedingsof the
IEEE (Vol. 2, pp. 1663-1667).
[71] Chiang, A. M., Chang, P. P., & Broadstone, S. R. (2000, October). PC-based
ultrasound imaging system in a probe. In Ultrasonics Symposium, 2000 IEEE(Vol.
2, pp. 1255-1260).
173
[72] Schneider, F. K., Agarwal, A., Yoo, Y. M., Fukuoka, T., & Kim, Y. (2010). A fully
programmable computing architecture for medical ultrasound machines. IEEE
Transactions on Information Technology in Biomedicine, 14(2), 538-540.
[73] Kim, K. C., Kim, M. J., Joo, H. S., Lee, W., Yoon, C., Song, T. K., & Yoo, Y. (2013,
July). Smartphone-based portable ultrasound imaging system: A primary result.
In Ultrasonics Symposium (IUS), 2013 IEEE International (pp. 2061-2063).
[74] Huang, Q. H., Zheng, Y. P., Lu, M. H., & Chi, Z. R. (2005). Development of a
portable 3D ultrasound imaging system for musculoskeletal
tissues. Ultrasonics,43(3), 153-163.
[75] Fuller, M., Blalock, T. N., Hossack, J., & Walker, W. F. (2003, October). A portable,
low-cost, highly integrated, 3D medical ultrasound system. 2003 IEEE Symposium
on Ultrasonics, (Vol. 1, pp. 38-41).
[76] Matrone, G., Quaglia, F., & Magenes, G. (2010, August). Modeling and simulation
of ultrasound fields generated by 2D phased array transducers for medical
applications. In Engineering in Medicine and Biology Society (EMBC), 2010 Annual
International Conference of the IEEE (pp. 6003-6006).
[77] Austeng, A., & Holm, S. (2002). Sparse 2-D arrays for 3-D phased array imaging-
design methods. IEEE Transactions on Ultrasonics, Ferroelectrics, and Frequency
Control, 49(8), 1073-1086.
[78] Smith, S. W., Trahey, G. E., & Von Ramm, O. T. (1992). Two-dimensional arrays
for medical ultrasound. Ultrasonic Imaging, 14(3), 213-233.
174
[79] Light, E. D., Davidsen, R. E., Fiering, J. O., Hruschka, T. A., & Smith, S. W. (1998).
Progress in two-dimensional arrays for real-time volumetric imaging. Ultrasonic
Imaging, 20(1), 1-15.
[80] Karaman, M., Wygant, I. O., Oralkan, Ö., & Khuri-Yakub, B. T. (2009). Minimally
redundant 2-D array designs for 3-D medical ultrasound imaging. IEEE
Transactions on Medical Imaging, 28(7), 1051-1061.
[81] Jensen, J. A., Nikolov, S. I., Gammelmark, K. L., & Pedersen, M. H. (2006).
Synthetic aperture ultrasound imaging. Ultrasonics, 44, e5-e15.
[82] Hasegawa, H., & Kanai, H. (2011). High-frame-rate echocardiography using
diverging transmit beams and parallel receive beamforming. Journal of Medical
Ultrasonics, 38(3), 129-140.
[83] DIARRA, B., Liebgott, H., Tortoli, P., & Cachard, C. (2012). Sparse array
techniques for 2D array ultrasound imaging. no. April, 1591-1596.
[84] Johnson, J., Karaman, M., & Khuri-Yakub, B. T. (2005). Coherent-array imaging
using phased subarrays. Part I: basic principles. IEEE Transactions on Ultrasonics,
Ferroelectrics, and Frequency Control, 52(1), 37-50.
[85] Synnevåg, J. F., Austeng, A., & Holm, S. (2007). Adaptive beamforming applied to
medical ultrasound imaging. IEEE Transactions on Ultrasonics, Ferroelectrics,
and Frequency Control, 54(8), 1606-1613.
175
[86] Rasmussen, M. F., & Jensen, J. (2014). Comparison of 3-D synthetic aperture
phased-array ultrasound imaging and parallel beamforming. IEEE Transactions on
Ultrasonics, Ferroelectrics, and Frequency Control, 61(10), 1638-1650.
[87] Bonavita, J. A., Mayo, J., Babb, J., Bennett, G., Oweity, T., Macari, M., & Yee, J.
(2009). Pattern recognition of benign nodules at ultrasound of the thyroid: which
nodules can be left alone?. American Journal of Roentgenology, 193(1), 207-213.
[88] Noble, J. A., & Boukerroui, D. (2006). Ultrasound image segmentation: a survey.
IEEE Transactions on Medical Imaging, 25(8), 987-1010.
[89] Dai, S., Han, M., Wu, Y., & Gong, Y. (2007, July). Bilateral back-projection for
single image super resolution. In Multimedia and Expo, 2007 IEEE International
Conference (pp. 1039-1042).
[90] Farsiu, S., Robinson, M. D., Elad, M., & Milanfar, P. (2004). Fast and robust
multiframe super resolution. IEEE Transactions on Image processing, 13(10), 1327-
1344.
[91] Glasner, D., Bagon, S., & Irani, M. (2009, September). Super-resolution from a
single image. In Computer Vision, 2009 IEEE 12th International Conference (pp.
349-356).
[92] Parker, K. J. (2012). Superresolution imaging of scatterers in ultrasound B-scan
imaging. The Journal of the Acoustical Society of America, 131(6), 4680-4689.
176
[93] Clement, G. T., Huttunen, J., & Hynynen, K. (2005). Superresolution ultrasound
imaging using back-projected reconstruction. The Journal of the Acoustical Society
of America, 118(6), 3953-3960.
[94] Tsakallakis, M., & Bourbakis, N. (2013, November). A wearable ultrasound multi-
transducer array system for abdominal organs monitoring. In Bioinformatics and
Bioengineering (BIBE), 2013 IEEE 13th International Conference (pp. 1-5).
[95] Tsakalakis, M., & Bourbakis, N. G. (2014, November). Ultrasound Image
Despeckling/Denoising Based on a Novel Multi-transducer Architecture. In
Bioinformatics and Bioengineering (BIBE), 2014 IEEE International Conference
(pp. 62-68).
[96] Park, S. C., Park, M. K., & Kang, M. G. (2003). Super-resolution image
reconstruction: a technical overview. Signal Processing Magazine, IEEE, 20(3), 21-
36.
[97] Arsenault, H. H., & April, G. (1976). Properties of speckle integrated with a finite
aperture and logarithmically transformed. JOSA, 66(11), 1160-1163.
[98] Weng, L., Reid, J. M., Shankar, P. M., & Soetanto, K. (1991). Ultrasound speckle
analysis based on the K distribution. The Journal of the Acoustical Society of
America, 89(6), 2992-2995.
[99] Joel, T., & Sivakumar, R. (2013). Despeckling of ultrasound medical images: A
survey. Journal of Image and Graphics, 1(3), 161-164.
177
[100] Gehlbach, S. M., & Sommer, F. G. (1987). Frequency diversity speckle
processing. Ultrasonic imaging, 9(2), 92-105.
[101] Adam, D., Beilin-Nissan, S., Friedman, Z., & Behar, V. (2006). The combined effect
of spatial compounding and nonlinear filtering on the speckle reduction in
ultrasound images. Ultrasonics, 44(2), 166-181.
[102] He, P. (1997). Spatial compounding in 3D imaging of limbs. Ultrasonic
imaging,19(4), 251-265.
[103] Rohling, R., Gee, A., & Berman, L. (1997). Three-dimensional spatial compounding
of ultrasound images. Medical Image Analysis, 1(3), 177-193.
[104] Khare, A., Khare, M., Jeong, Y., Kim, H., & Jeon, M. (2010). Despeckling of
medical ultrasound images using Daubechies complex wavelet transform. Signal
Processing, 90(2), 428-439.
[105] Lazrag, H., & Naceur, M. S. (2012, March). Despeckling of intravascular ultrasound
images using curvelet transform. In Sciences of Electronics, Technologies of
Information and Telecommunications (SETIT), 2012 6th International Conference
(pp. 365-369).
[106] Hiremath, P. S., Akkasaligar, P. T., & Badiger, S. (2010). Speckle reducing
contourlet transform for medical ultrasound images. Int J Compt Inf Engg, 4(4), 284-
291.
[107] Eskicioglu, A. M., & Fisher, P. S. (1995). Image quality measures and their
performance. IEEE Transactions on Communications, 43(12), 2959-2965.
178
[108] Achim, A., Bezerianos, A., & Tsakalides, P. (2001). Novel Bayesian multiscale
method for speckle removal in medical ultrasound images. IEEE Transactions on
Medical Imaging, 20(8), 772-783.
[109] Sattar, F., Floreby, L., Salomonsson, G., & Lovstrom, B. (1997). Image
enhancement based on a nonlinear multiscale method. IEEE transactions on image
processing, 6(6), 888-895.
[110] Taxt, T., & Jiřík, R. (2004). Superresolution of ultrasound images using the first and
second harmonic signal. IEEE Transactions on Ultrasonics, Ferroelectrics, and
Frequency Control, 51(2), 163-175.
[111] Clement, G. T., Huttunen, J., & Hynynen, K. (2005). Superresolution ultrasound
imaging using back-projected reconstruction. The Journal of the Acoustical Society
of America, 118(6), 3953-3960.
[112] Parker, K. J. (2012). Superresolution imaging of scatterers in ultrasound B-scan
imaging. The Journal of the Acoustical Society of America, 131(6), 4680-4689.
[113] Jensen, J. A. (1996). Field: A program for simulating ultrasound systems. In 10TH
NORDICBALTIC CONFERENCE ON BIOMEDICAL IMAGING, VOL. 4,
SUPPLEMENT 1, PART 1: 351--353.
[114] Jensen, J. A., & Svendsen, N. B. (1992). Calculation of pressure fields from
arbitrarily shaped, apodized, and excited ultrasound transducers. IEEE Transactions
on Ultrasonics, Ferroelectrics, and Frequency Control, 39(2), 262-267.
179
[115] Papoulis, A. (1975). A new algorithm in spectral analysis and band-limited
extrapolation. IEEE Transactions on Circuits and Systems, 22(9), 735-742.
[116] Irani, M., & Peleg, S. (1991). Improving resolution by image registration.CVGIP:
Graphical models and image processing, 53(3), 231-239.
[117] Zomet, A., Rav-Acha, A., & Peleg, S. (2001). Robust super-resolution. InComputer
Vision and Pattern Recognition, 2001. CVPR 2001. Proceedings of the 2001 IEEE
Computer Society Conference (Vol. 1, pp. I-645).
[118] Pham, T. Q., Van Vliet, L. J., & Schutte, K. (2006). Robust fusion of irregularly
sampled data using adaptive normalized convolution. EURASIP Journal on Applied
Signal Processing, 2006, 236-236.
180
APPENDIX A
In the following appendix the mathematical equations for the overlapped regions
among the transducers are given. The Appendix is divided into two parts. In the first one,
the equations of the overlapped regions in the case of 2D circular phased array transducers
are presented, while in the second the equations of the overlapped regions in the case of
common 2D phased array transducers are described. The design of the proposed system,
as well as the proposed methodology was based on the overlapped regions of the multiple
sensors. Keeping that in mind, knowing the total volume of the overlapped regions is of
great significance. The bigger those regions are the better image quality can be achieved
after applying the proposed methodology.
A.1 Mathematical Equations: Circular Phased Array
Transducers
In this section, an algorithmic-based mathematical model that represent the overlapping
areas and volumes formed by 2x2 circular array transducers is presented. The number of
overlaps that are going to be used during image formation and volume reconstruction
requires further examination. The calculation of the overlapped area can be approximated
through the following algorithmic steps.
181
1. Knowing the exact positions and the technical characteristics of the
transducers the depths in which new overlaps are about to be introduced can
be calculated. In this trend we divide the axial (z) direction into layers
(Figure A- 1)
2. We calculate all the overlapped areas in each layer as a function of the z.
3. Integrating from one layer to another in respect to z we obtain the
overlapped volume between these layers.
d
R
d
R
Level 1 Level 2
Level 3
Figure A- 1: The three distinct layers of our approach a) Level 1, b) Level 2 and c)
Level 3
182
The radius of each created circle in each level and the corresponding depth should be:
Level 1: R= d⁄2, h1
Level 2: R= d⁄√2, h2
Level 3: the radius at the maximum recorded depth, hmax
The first step is to find the area created by two intersecting circles. This is a simple
problem already examined. In order to calculate this overlapped area the area of the circular
segment (region Acs in Figure A- 2 a)) needs to be calculated. The area of the circular
segment is given from the formula:
𝐴𝑐𝑠(𝑅, 𝑇𝐻) = 𝑅2
𝑐𝑜𝑠−1
(
𝑇𝐻
𝑅
) − 𝑇𝐻√𝑅2 − 𝑇𝐻
2
(A-1)
R R1 R2
TH
Acs
TH1 TH2
a b
Figure A- 2: a) Representation of a circular segment and b) representation of the
intersection of two circles (combination of two circular segments)
183
Thus the total area restricted by two intersecting circles (Figure A- 2 b)) formatted by
the cones in depth z into the human body should be:
𝐴𝑐𝑖 = 𝐴𝑐𝑠(𝑅1, 𝑇𝐻1) + 𝐴𝑐𝑠(𝑅2, 𝑇𝐻2) (A-2)
Where i = 1,2,3,4 and represent one of the 4 overlapped regions in Figure A- 1 Level
2. Due to the assumption that all the transducers will be identical, they will present identical
characteristics. Consequently all the intersections observed in Figure A- 1 Level 2 will
have the same area. Therefore:
𝑅1 = 𝑅2 = 𝑅, 𝑇𝐻1 = 𝑇𝐻2 = 𝑇 (A-3)
𝑇𝐻 =
1
2
√𝑑 (A-4)
𝐴𝑐𝑖 = 2𝑅2
𝑐𝑜𝑠−1
(
1
2
√𝑑
𝑅
) − √𝑑√𝑅2 −
1
4
𝑑 (A-5)
Expressing the radius R of the circles in each layer as a function of depth (z) and angle
φ and plugging in into the equation A-2 the overlapped area formed by to circles in level 2
can be calculated. Due to the symmetry of the design, all the overlapped areas in level 2
will have the manifest the same area given by the formula:
𝐴𝑐𝑖(𝑧) = 2(𝑧 ∗ 𝑡𝑎𝑛𝜑)2
𝑐𝑜𝑠−1
(
1
2
√𝑑
𝑧∗𝑡𝑎𝑛𝜑
) − √𝑑′√(𝑧 ∗ 𝑡𝑎𝑛𝜑)2 −
1
4
𝑑 (A-6)
Integrating 𝐴𝑐𝑖(𝑧) over z from level 1 (which is the depth in which the area begins to
form) to level 2 the overlapped volume formed by the known field of view of two
consecutive sensors can be calculated. Because of symmetry the volume will be the same
184
for all of the seven overlaps produced by the four sensors and the corresponding formula
is given below:
𝑉𝑐𝑖 = ∫ 𝐴𝑐𝑖(𝑧)
ℎ2
ℎ1
𝑑𝑧 = 2 ∫ (𝑧 ∗ 𝑡𝑎𝑛𝜑)2
𝑐𝑜𝑠−1
(
1
2
√𝑑
𝑧∗𝑡𝑎𝑛𝜑
) 𝑑𝑧
ℎ2
ℎ1
−
√𝑑 ∫ √(𝑧 ∗ 𝑡𝑎𝑛𝜑)2 −
1
4
𝑑
ℎ2
ℎ1
𝑑𝑧 (A-7)
Regarding the third and the last level in this particular model design, all possible areas
of intersection are depicted in Figure A- 3 a). The procedure followed for this case is
described bellow:
1 Calculation of the intersecting points P1-P4.
2 Knowing these points we can calculate the area of circular segments generated by
the intersection of circles (Figure A- 3 b)). Then, region 4 can be calculated as the
addition of the 4 generated circular segments and the rectangular area illustrated in
Figure A- 3 c).
3 Due to the symmetry and applying simple subtraction the area of all the other
regions can be calculated.
4 Finally, integrating over z from level 2 to level 3 the corresponding volumes can be
computed.
185
a)
P1
P2
P3
P4
b)
1
1
1 1
2
2
3
3
3
3
4
2
2
Acs1
TH
R
P1
P2
P1
P2
P3
P4
c)
Figure A- 3: a) Overlapped regions for level 3, b) area of the circular segment created
by the points P1 and P2 and c) close look of region 4 and the inscribed square.
The functions for the 4 circles at a certain depth are:
𝐶1: 𝑥2
+ 𝑦2
= 𝑅2
(A-8)
𝐶2: (𝑥 − 𝑑)2
+ 𝑦2
= 𝑅2
(A-9)
𝐶3: 𝑥2
+ (𝑦 − 𝑑)2
= 𝑅2
(A-10)
𝐶4: (𝑥 − 𝑑)2
+ (𝑦 − 𝑑)2
= 𝑅2
(A-11)
Solving the above system we get the four points of intersection which are:
𝑃1 = (
𝑑
2
, 𝑑 −
1
2
√4𝑅2 − 𝑑2) (A-12)
𝑃2 = (𝑑 −
1
2
√4𝑅2 − 𝑑
2
,
𝑑
2
) (A-13)
186
𝑃3 = (√𝑅2 −
𝑑
2
4
,
𝑑
2
) (A-14)
𝑃4 = (
𝑑
2
, √𝑅2 −
𝑑
2
4
) (A-15)
Distances P1P2, P2P3, P3P4, P4P1 can be computed as a function of z taking into
consideration that R= z*tanφ.
𝑃1𝑃2 = 𝑃2𝑃3 = 𝑃3𝑃4 = 𝑃4𝑃1 = 𝐷 = √2(𝑧 ∗ 𝑡𝑎𝑛𝜑)2 + 𝑑
2
⁄ − 2𝑑√(𝑧 ∗ 𝑡𝑎𝑛𝜑)2 − 𝑑
4
⁄
(A-16)
Distance TH in Figure A- 3 b) is computed:
𝑇𝐻 = √(𝑧 ∗ 𝑡𝑎𝑛𝜑)2 −
(𝐷)2
2
(A-17)
Applying in the formula for the circular segment we have the areas for Acs1 = Acs2 =
Acs3 = Acs4 = Acs
Thus, the area for region 4 in Figure A- 3 a) is given:
𝐴4 = 𝐴𝑃1𝑃2𝑃3𝑃4 = 4𝐴𝑐𝑠 + (𝐷)2
(A-18)
Integrating from level 2 to level 3 in respect to z the corresponding volume is
calculated:
𝑉4 = ∫ 𝐴4
ℎmax
ℎ2
𝑑𝑧 = ∫ 4𝐴𝑐𝑠 + (D)2
ℎmax
ℎ2
(A-19)
Everything that is needed for the above equation is given. All the rest areas can be
found by subtraction.
187
A.2 Mathematical Equations: 2D Phased Array
Transducers
In this section the algorithmic-based mathematical model to represent the overlapping
areas and volumes formed by 2x2 2D phased array transducer configuration is presented.
The calculation of the overlapped areas can be achieved following the same reasoning with
the previous section. In this case the calculations are much simpler. The procedure
presented here has be conducted in order to describe the overlapped regions that can be
generated using 2D phased array transducers in the configuration proposed in chapter 4
and illustrated again in Figure A- 4. Depending on the distance among the transducers, as
well as on the achieved field of view of the transducers different volumes of overlapped
regions can be produced. In this section the mathematical formulas that describe these
volumes are explained.
a
a
d
d
Figure A- 4: Configuration of the transducers for the case of 2D phased array ones
188
Following the same reasoning the different levels for this case are depicted in
d
d
W
W
d
d
W
W
Level 2
Level 1
Figure A- 5 while the dimensions of the formatted areas along with the corresponding
depths are given bellow:
Level 1: W= d, h1
Level 2: W at the maximum depth, hmax
189
d
d
W
W
d
d
W
W
Level 2
Level 1
Figure A- 5: The two distinct layers of overlapped surfaces for the 2D phased array
transducers case
All the overlapped regions generated from Level 1 and bellow are depicted in the
following figure. W1 = W2 = W due to the fact that the FOV of the transducers used is the
same for both azimuthal and elevation direction. The width of the formatted rectangle is
given depending on the depth by the formula:
𝑊1 = 𝑊2 = 𝑊 = 𝑧 ∗ 𝑡𝑎𝑛𝜑 = 𝑧 ∗ 𝑡𝑎𝑛𝜃 (Α-20)
190
1 1
1
1
4
2
2
2
2
Figure A- 6: Overlapped regions from Level 1 and below
Starting again by calculating the area produced by two consecutive transducers given
in
W
A
TH
TH
Figure A- 7: Overlapped region for two consecutive transducers
𝑇𝐻 = (𝑧 − ℎ1) ∗ 𝑡𝑎𝑛𝜃 (A-21)
Where (ℎ1) =
d
2
∗ 𝑡𝑎𝑛𝜃. The total area of A is then given using the formula:
𝐴 = 2 ∗ TH ∗ W = 2 ∗ z ∗ 𝑡𝑎𝑛2(𝜃) ∗ (𝑧 − ℎ1) = 2 ∗ z2
∗ 𝑡𝑎𝑛2(𝜃) − 2 ∗ z ∗ ℎ1 ∗
𝑡𝑎𝑛2(𝜃) (A-22)
191
The corresponding volume can be easily calculated by integrating from level 1 to
level 2
𝑉 = ∫ 𝐴
ℎmax
ℎ1
𝑑𝑧 (A-23)
The next step is to compute area of the region 4 (A4) of the Figure A- 6.
𝐴4 = (2 ∗ TH) ∗ (2 ∗ TH) = 4 ∗ 𝑡𝑎𝑛2(𝜃) ∗ (𝑧 − ℎ1)2
(A-24)
The corresponding volume can be easily calculated by integrating from level 1 to
level 2
𝑉4 = ∫ 𝐴4
ℎmax
ℎ1
𝑑𝑧 (A-24)
The rest areas can be easily computed from simple subtraction. Regions depicted with
the symbol 2 in Figure A- 6 can be calculated
𝐴2 = 𝐴 − 𝐴4 (A-25)
The corresponding volume is finally given:
𝑉2 = ∫ 𝐴2
ℎmax
ℎ1
𝑑𝑧 (A-26)
At this point any volume of the produced overlapped regions can be calculated knowing
the characteristics and the configuration of the transducers. This can be extremely helpful
during the design. Designers might want to maximize the overlapped regions in order to
exploit the advantages of the proposed methodology. These formulas may help them
towards this direction.
COPYRIGHT BY
MICHAIL TSAKALAKIS
2015
